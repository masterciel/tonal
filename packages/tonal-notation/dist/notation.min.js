(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){"use strict";var nn={};nn.operation=require("./operation");nn.note=require("./note");nn.note.split=require("./note.split");nn.note.parse=require("./note.parse");nn.note.str=require("./note.str");nn.interval=require("./interval");nn.interval.parse=require("./interval.parse");nn.interval.str=require("./interval.str");nn.roman={};nn.roman.split=require("./roman.split");nn.roman.parse=require("./roman.parse");nn.parser=require("./parser");nn.props=require("./props");nn.props.array=require("./props.array");nn.pitch=require("./pitch");nn.pitch.parse=require("./pitch.parse");nn.pitch.str=require("./pitch.str");module.exports=nn},{"./interval":2,"./interval.parse":3,"./interval.str":4,"./note":5,"./note.parse":6,"./note.split":7,"./note.str":8,"./operation":9,"./parser":10,"./pitch":11,"./pitch.parse":12,"./pitch.str":13,"./props":15,"./props.array":14,"./roman.parse":16,"./roman.split":17}],2:[function(require,module,exports){"use strict";var parse=require("./interval.parse");var str=require("./interval.str");module.exports=function(n){return str(parse(n))}},{"./interval.parse":3,"./interval.str":4}],3:[function(require,module,exports){"use strict";var parser=require("./parser");var ptc=require("./props.array");var INTERVAL=/^([-+]?)(\d+)(d{1,4}|m|M|P|A{1,4}|b{1,4}|#{1,4}|)$/;var TYPES="PMMPPMM";var QALT={P:{dddd:-4,ddd:-3,dd:-2,d:-1,P:0,A:1,AA:2,AAA:3,AAAA:4},M:{ddd:-4,dd:-3,d:-2,m:-1,M:0,A:1,AA:2,AAA:3,AAAA:4}};module.exports=parser(function(str){var m=INTERVAL.exec(str);if(!m)return null;var dir=m[1]==="-"?-1:1;var num=+m[2]-1;var simple=num%7;var alt;if(m[3]==="")alt=0;else if(m[3][0]==="#")alt=m[3].length;else if(m[3][0]==="b")alt=-m[3].length;else{alt=QALT[TYPES[simple]][m[3]];if(typeof alt==="undefined")return null}var oct=Math.floor(num/7);return ptc([simple,alt,oct,dir])})},{"./parser":10,"./props.array":14}],4:[function(require,module,exports){"use strict";var props=require("./props");var cache={};module.exports=function(arr){if(!Array.isArray(arr)||arr.length!==2)return null;var str="|"+arr[0]+"|"+arr[1];return str in cache?cache[str]:cache[str]=build(arr)};var ALTER={P:["dddd","ddd","dd","d","P","A","AA","AAA","AAAA"],M:["ddd","dd","d","m","M","A","AA","AAA","AAAA"]};var TYPES="PMMPPMM";function build(coord){var p=props(coord);var t=TYPES[p[0]];var dir,num,alt;if(p[2]<0){dir=-1;num=8-p[0]-7*(p[2]+1);alt=t==="P"?-p[1]:-(p[1]+1)}else{dir=1;num=p[0]+1+7*p[2];alt=p[1]}var q=ALTER[t][4+alt];return dir*num+q}},{"./props":15}],5:[function(require,module,exports){"use strict";var parse=require("./note.parse");var str=require("./note.str");module.exports=function(n){return str(parse(n))}},{"./note.parse":6,"./note.str":8}],6:[function(require,module,exports){"use strict";var parser=require("./parser");var split=require("./note.split");var BASES={C:[0,0],D:[2,-1],E:[4,-2],F:[-1,1],G:[1,0],A:[3,-1],B:[5,-2]};module.exports=parser(function(str){var m=split(str);if(!m||m[5])return null;var base=BASES[m[1].toUpperCase()];var alt=m[2].replace(/x/g,"##").length;if(m[2][0]==="b")alt*=-1;var fifths=base[0]+7*alt;if(!m[3])return[fifths];var oct=+m[3]+base[1]-4*alt;var dur=m[4]?+m[4].substring(1):null;return[fifths,oct,dur]})},{"./note.split":7,"./parser":10}],7:[function(require,module,exports){"use strict";var R=/^([a-gA-G])(#{1,}|b{1,}|x{1,}|)(-?\d*)(\/\d+|)\s*(.*)\s*$/;module.exports=function(s){return R.exec(s)}},{}],8:[function(require,module,exports){"use strict";var props=require("./props");var cache={};module.exports=function(arr){if(!Array.isArray(arr)||arr.length<1||arr.length===2)return null;var str="|"+arr[0]+"|"+arr[1]+"|"+arr[2];return str in cache?cache[str]:cache[str]=build(arr)};function accidentals(num){if(num<0)return Array(-num+1).join("b");else if(num>0)return Array(num+1).join("#");else return""}var LETTER=["C","D","E","F","G","A","B"];function build(coord){var p=props(coord);return LETTER[p[0]]+accidentals(p[1])+(p[2]!==null?p[2]:"")+(p[3]!==null?"/"+p[3]:"")}},{"./props":15}],9:[function(require,module,exports){"use strict";function curry(fn,arity){if(arity===1)return fn;return function(a,b){if(arguments.length===1)return function(c){return fn(a,c)};return fn(a,b)}}module.exports=function(parse,str,fn){return curry(function(a,b){var ac=parse(a);var bc=parse(b);if(!ac&&!bc)return fn(a,b);var v=fn(ac||a,bc||b);return str(v)||v},fn.length)}},{}],10:[function(require,module,exports){"use strict";module.exports=function(fn){var cache={};return function(str){if(typeof str!=="string")return null;return str in cache?cache[str]:cache[str]=fn(str)}}},{}],11:[function(require,module,exports){"use strict";var str=require("./pitch.str");var parse=require("./pitch.parse");module.exports=function(s){return str(parse(s))}},{"./pitch.parse":12,"./pitch.str":13}],12:[function(require,module,exports){var ncrd=require("./note.parse");var icrd=require("./interval.parse");module.exports=function(n){return ncrd(n)||icrd(n)}},{"./interval.parse":3,"./note.parse":6}],13:[function(require,module,exports){var nstr=require("./note.str");var istr=require("./interval.str");module.exports=function(n){return nstr(n)||istr(n)}},{"./interval.str":4,"./note.str":8}],14:[function(require,module,exports){"use strict";var BASES=[[0,0],[2,-1],[4,-2],[-1,1],[1,0],[3,-1],[5,-2]];module.exports=function(p){var base=BASES[p[0]];if(p.length===2)return[base[0]+7*p[1]];return[p[3]*(base[0]+7*p[1]),p[3]*(p[2]+base[1]-4*p[1])]}},{}],15:[function(require,module,exports){"use strict";var BASES=[[3,1],[0,0],[4,0],[1,-1],[5,-1],[2,-2],[6,-2],[3,-3]];module.exports=function(arr){if(!Array.isArray(arr))return null;var index=(arr[0]+1)%7;if(index<0)index=7+index;var base=BASES[index];var alter=Math.floor((arr[0]+1)/7);var oct=arr.length===1?null:arr[1]-base[1]+alter*4;var dur=arr[2]||null;return[base[0],alter,oct,dur]}},{}],16:[function(require,module,exports){"use strict";var parser=require("./parser");var split=require("./roman.split");var coord=require("./props.array");var NUM={i:0,ii:1,iii:2,iv:3,v:4,vi:5,vii:6};module.exports=parser(function(str){var m=split(str);if(!m||m[3])return null;var num=NUM[m[2].toLowerCase()];var alt=m[1].length;if(m[1][0]==="b")alt=-alt;return coord([num,alt])})},{"./parser":10,"./props.array":14,"./roman.split":17}],17:[function(require,module,exports){"use strict";var R=/^\s*(b|bb|#|##|)(IV|III|II|I|VII|VI|V|iv|iii|ii|i|vii|vi|v)\s*(.*)\s*$/;module.exports=function(s){return R.exec(s)}},{}]},{},[1]);
!function(n,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):n.Tonal=t()}(this,function(){"use strict";function n(n,t){return Array(t+1).join(n)}function t(n){return"number"==typeof n}function r(n,t){return Math.pow(2,(n-69)/12)*(t||440)}function e(n,t,e){if("string"!=typeof n)return null;var m=dr.exec(n);if(!m||!t&&m[4])return null;var i={letter:m[1].toUpperCase(),acc:m[2].replace(/x/g,"##")};i.pc=i.letter+i.acc,i.step=(i.letter.charCodeAt(0)+3)%7,i.alt="b"===i.acc[0]?-i.acc.length:i.acc.length;var o=pr[i.step]+i.alt;return i.chroma=o<0?12+o:o%12,m[3]&&(i.oct=+m[3],i.midi=o+12*(i.oct+1),i.freq=r(i.midi,e)),t&&(i.tonicOf=m[4]),i}function m(r){return t(r)?r<0?n("b",-r):n("#",r):""}function i(n){return t(n)?""+n:""}function o(n,t,r){return null===n||void 0===n?null:n.step?o(n.step,n.alt,n.oct):n<0||n>6?null:br.charAt(n)+m(t)+i(r)}function P(n,t){if("string"!=typeof n)return null;var r=hr.exec(n);if(!r)return null;var e={num:+(r[3]||r[8]),q:r[4]||r[6]};e.dir="-"===(r[2]||r[7])?-1:1;var m=(e.num-1)%7;return e.simple=m+1,e.type=vr[m],e.alt=u(e.type,e.q),e.oct=Math.floor((e.num-1)/7),e.size=e.dir*(Ar[m]+e.alt+12*e.oct),!1!==t&&"M"===e.type&&"P"===e.q?null:e}function M(n){return vr[(n-1)%7]}function u(n,t){var r="number"==typeof n?M(n):n;return"M"===t&&"M"===r?0:"P"===t&&"P"===r?0:"m"===t&&"M"===r?-1:/^A+$/.test(t)?t.length:/^d+$/.test(t)?"P"===r?-t.length:-t.length-1:null}function a(n,t){return Array(Math.abs(t)+1).join(n)}function c(n,t){var r="number"==typeof n?M(Math.abs(n)):n;return 0===t?"M"===r?"M":"P":-1===t&&"M"===r?"m":t>0?a("A",t):t<0?a("d","P"===r?t:t+1):null}function l(n){return"number"==typeof n}function f(n){return Math.floor(7*n/12)}function s(n,t,r){var e=gr[n]+7*t;return l(r)?[e,r-yr[n]-4*t]:[e]}function d(n){var t=(n+1)%7;return t<0?7+t:t}function p(n,t){var r=jr[d(n)],e=Math.floor((n+1)/7);return l(t)?[r,e,t+4*e+yr[r]]:[r,e]}function b(n,t,r){return r?["tnlp",[n,t],r]:["tnlp",[n,t]]}function h(n){return Array.isArray(n)&&"tnlp"===n[0]}function A(n,t,r,e){return e?["tnlp",s(n,t,r),e]:["tnlp",s(n,t,r)]}function v(n){return p.apply(null,n[1])}function g(n){return h(n)?n[2]?"ivl":"note":null}function y(n){return"note"===g(n)}function j(n){return"ivl"===g(n)}function x(n){return h(n)&&1===n[1].length}function _(n){return-1===n[2]?-1:1}function w(n){return-1===n[2]?-n[1][0]:n[1][0]}function O(n){return-1===n[2]?-n[1][1]:n[1][1]}function C(n){return 7*w(n)+12*O(n)}function I(n){var t=w(n);return 7*t-12*Math.floor(7*t/12)}function F(n){var t={};return function(r){return"string"!=typeof r?null:t[r]||(t[r]=n(r))}}function z(n){return xr(n)||_r(n)}function k(n){return y(n)?n:xr(n)}function D(n){return j(n)?n:_r(n)}function E(n){return h(n)?n:z(n)}function G(n){return y(n)?o.apply(null,v(n)):null}function q(n){if(!j(n))return null;var t=v(n),r=t[0]+1+7*t[2];return n[2]*r+c(r,t[1])}function B(n){return G(n)||q(n)}function $(n,t,r){return function(e){return function(m){if(n(m))return e(m);var i=t(m);return i?r(e(i)):null}}}function N(n,t){var r=g(t);if(!r)return null;var e=w(n)+w(t);if(x(t))return["tnlp",[e]];var m=O(n)+O(t);if("note"===r)return["tnlp",[e,m]];var i=C(n)+C(t)<0?-1:1;return["tnlp",[i*e,i*m],i]}function S(n,t){if(1===arguments.length)return function(t){return S(n,t)};var r=E(n),e=E(t),m=j(r)?N(r,e):j(e)?N(e,r):null;return n===r&&t===e?m:B(m)}function V(n,t){return arguments.length>1?V(n)(t):function(t){return S(n,b(t,0,1))}}function U(n,t){var r=g(t);if(!r)return null;var e=w(n)+w(t);if(x(t))return["tnlp",[e]];var m=O(n)+O(t);if("note"===r)return["tnlp",[e,m]];var i=C(n)+C(t)<0?-1:1;return["tnlp",[i*e,i*m],i]}function T(n,t){if(1===arguments.length)return t=>T(n,t);var r=E(n),e=E(t);return r&&e?B(U(e,r)):null}function R(n,t){return 1===arguments.length?t=>R(n,t):T(t,n)}function K(n,t){if(1===arguments.length)return t=>R(n,t);var r=E(n),e=E(t);return r&&e?B(U(r,e)):null}function L(n,t){return arguments.length>1?L(n)(t):function(t){return T(n,b(t,0,1))}}function H(n,t){if(!n||!t||n[1].length!==t[1].length)return null;var r=w(t)-w(n);if(x(n))return b(r,-Math.floor(7*r/12),1);var e=O(t)-O(n),m=C(t)-C(n)<0?-1:1;return b(m*r,m*e,m)}function J(n,t){return 1===arguments.length?t=>J(n,t):q(H(E(n),E(t)))}function Q(n,t){return J(t,n)}function W(n,t){var r=H(E(n),E(t));return r?C(r):null}function X(n){return n||0===n}function Y(n,t){return arguments.length>1?Y(n)(t):function(t){return Dr(t).map(n)}}function Z(n){return Dr(n).filter(X)}function nn(n,t){return arguments.length>1?nn(n)(t):function(t){return Dr(t).filter(n)}}function tn(n){if(!n)return-1/0;var t=7*w(n);return t+12*(O(n)||-Math.floor(t/12)-100)}function rn(n,t){return tn(n)-tn(t)}function en(n,t){return-rn(n,t)}function mn(n,t){var r=1===arguments.length||!0===t?rn:!1===t?en:"function"==typeof t?t:rn;return n=Array.isArray(n)?n.slice():Dr(n),fn(function(n){return n.sort(r).filter(X)},n)}function on(n){return S(b(0,n,1))}function Pn(n,t){var r=Dr(t),e=r.length,m=(n%e+e)%e;return r.slice(m,e).concat(r.slice(0,m))}function Mn(n,t){return fn(function(t){var r=t.length,e=(n%r+r)%r,m=t.slice(e,r),i=t.slice(0,e),o=W(m[r-e-1],i[0]);if(o<0){var P=Math.floor(o/12);n<0?m=m.map(on(P)):i=i.map(on(-P))}return m.concat(i)},t)}function un(n,t){if(1===arguments.length)return function(t){return un(n,t)};var r=Dr(t);return Dr(n).map(function(n){return r[n-1]||null})}function an(n){return n=Dr(n),0===n.length?[[]]:an(n.slice(1)).reduce(function(t,r){return t.concat(n.map(function(t,e){var m=r.slice();return m.splice(e,0,n[0]),m}))},[])}function cn(n){return B(n)||n}function ln(n){return h(n)?B(n):kr(n)?n.map(cn):n}function fn(n,t){if(1===arguments.length)return function(t){return fn(n,t)};var r=Dr(t).map(E);return ln(n(r))}function sn(n){var t=Dr(n);return t.length?Z(t.map(J(t[0]))):t}function dn(n){var t=[];n=Dr(n);for(var r=1;r<n.length;r++)t.push(J(n[r-1],n[r]));return t}function pn(n,t){return arguments.length>1?pn(n)(t):function(t){return Z(Y(S(t||"P1"),n))}}function bn(n){const t=Br.exec(n);return t?{letter:t[1].toUpperCase(),acc:t[2].replace(/x/g,"##"),oct:t[3],mod:t[4]}:null}function hn(n){const t=bn(n);return t&&""===t.mod?{step:(t.letter.charCodeAt(0)+3)%7,alt:"b"===t.acc[0]?-t.acc.length:t.acc.length,oct:t.oct.length?+t.oct:null}:null}function An(n){return"string"!=typeof n?null:void 0===$r[n]?$r[n]=hn(n):$r[n]}function vn(n,t){return n=Math.round(n),(!0===t?Rr:Tr)[n%12]+(Math.floor(n/12)-1)}function gn(n){return console.warn("note.note() is deprecated. Use note.name()"),re(n)}function yn(n){console.warn("Deprecated. Do you really need this?");var t=k(n);return t?w(t):null}function jn(n){return ie[(n-1)%7]}function xn(n){return-1===n?"-":""}function _n(n,t){return n+7*t}function wn(n,t,r,e){return xn(e)+_n(n,r)+Cn(n,t)}function On(n,t){return Array(Math.abs(t)+1).join(n)}function Cn(n,t){var r="number"==typeof n?jn(Math.abs(n)):n;return 0===t?"M"===r?"M":"P":-1===t&&"M"===r?"m":t>0?On("A",t):t<0?On("d","P"===r?t:t+1):null}function In(n){var t=D(n);return t?q(t):null}function Fn(n){var t=kn(n);return t?t.num:null}function zn(n){var t=kn(n);return t?t.num*t.dir:null}function kn(n){var t=D(n);if(!t)return null;var r=v(t);return{num:r[0]+1+7*r[2],alt:r[1],dir:t[2]}}function Dn(n){if(!n||n.num<1)return null;var t=Math.floor(n.num/8);return wn(n.num-7*t,n.alt||0,t,n.dir)}function En(n){var t=D(n);return t?C(t):null}function Gn(n){var t=n<0?-1:1,r=Math.abs(n),e=r%12,m=Math.floor(r/12);return t*(oe[e]+7*m)+Pe[e]}function qn(n){var t=D(n),r=t?I(t):Math.round(n);return isNaN(r)?null:Me[Math.abs(r)%12]}function Bn(n){var t=D(n);return t?ue[v(t)[0]]:null}function $n(n){return"number"==typeof n}function Nn(n){return"string"==typeof n}function Sn(n){return void 0!==n}function Vn(n,t){return Math.pow(2,(n-69)/12)*(t||440)}function Un(n,t,r){if("string"!=typeof n)return null;var e=fe.exec(n);if(!e||!t&&e[4])return null;var m={letter:e[1].toUpperCase(),acc:e[2].replace(/x/g,"##")};m.pc=m.letter+m.acc,m.step=(m.letter.charCodeAt(0)+3)%7,m.alt="b"===m.acc[0]?-m.acc.length:m.acc.length;var i=se[m.step]+m.alt;return m.chroma=i<0?12+i:i%12,e[3]&&(m.oct=+e[3],m.midi=i+12*(m.oct+1),m.freq=Vn(m.midi,r)),t&&(m.tonicOf=e[4]),m}function Tn(n){if(($n(n)||Nn(n))&&n>=0&&n<128)return+n;var t=Un(n);return t&&Sn(t.midi)?t.midi:null}function Rn(n){return Array.isArray(n)&&2===n.length?7*n[0]+12*n[1]+12:Tn(n)}function Kn(n,t){return!0===n||!1===n?function(t){return Kn(t,n)}:(n=Math.round(n),(!0===t?pe:de)[n%12]+(Math.floor(n/12)-1))}function Ln(n,t){return n=!(!n&&0!==n)&&Math.pow(10,n),function(r){return r=t(r),null===r?null:n?Math.round(r*n)/n:r}}function Hn(n,t,r){return arguments.length>2?Hn(n,t)(r):Ln(t,function(t){var r=Rn(t);return r?Math.pow(2,(r-69)/12)*n:null})}function Jn(n,t,r){return arguments.length>2?Jn(n,t)(r):Ln(t,function(t){return 12*(Math.log(t)-Math.log(n))/Math.log(2)+69})}function Qn(n,t){return Kn(Ae(n),t)}function Wn(n,t){var r=he(n)||n,e=he(t)||t;return Math.round(Math.log(e/r)/Math.log(2)*1200)}function Xn(n){return parseInt(Zn(n),2)}function Yn(n){return n=E(n),n?I(n):null}function Zn(n){if(rt(n))return n;var t=[0,0,0,0,0,0,0,0,0,0,0,0];return Y(Yn,n).forEach(n=>{t[n]=1}),t.join("")}function nt(n){console.warn("pcset.notes deprecated. Use collection.pcset");var t=Y(ee,n);if(!t.length)return t;var r=t[0];return mt(Pn(Yn(r),Zn(t).split("")).join(""),r)}function tt(n,t){t=!1!==t;var r=Zn(n).split("");return Z(r.map(function(n,e){var m=Pn(e,r);return t&&"0"===m[0]?null:m.join("")}))}function rt(n){return ge.test(n)}function et(n){return Z(Zn(n).split("").map(function(n,t){return"1"===n?ye[t]:null}))}function mt(n,t){return console.warn("pcset.fromChroma is deprecated. Use pcset.intervals().map(...)"),1===arguments.length?function(t){return mt(n,t)}:(t||(t="P1"),et(n).map(S(t)))}function it(n,t){return 1===arguments.length?function(t){return it(n,t)}:Zn(n)===Zn(t)}function ot(n,t){return((n=Xn(n))&Xn(t))===n}function Pt(n,t){return((n=Xn(n))|Xn(t))===n}function Mt(n,t){return arguments.length>1?Mt(n)(t):(n=Zn(n),function(t){return"1"===n[Yn(t)]})}function ut(n,t){return 1===arguments.length?function(t){return ut(n,t)}:Dr(t).filter(Mt(n))}function at(n){return"number"==typeof n}function ct(n){return at(n)?n:Rn(n)}function lt(n,t){for(var r=[];t--;r[t]=t+n);return r}function ft(n,t){for(var r=[];t--;r[t]=n-t);return r}function st(n,t){return null===n||null===t?[]:n<t?lt(n,t-n+1):ft(n,n-t+1)}function dt(n){return Dr(n).map(ct).reduce(function(n,t,r){if(1===r)return st(n,t);var e=n[n.length-1];return n.concat(st(e,t).slice(1))})}function pt(n,t){return Y(Kn(!0===t),dt(n))}function bt(n,t){return dt(t).map(V(n))}function ht(n,t){return 1===arguments.length?function(t){return ht(n,t)}:ut(n,pt(t))}function At(n){var t="CDEFGAB".indexOf(n.toUpperCase());return t<0?null:t}function vt(n){return!(n<0||n>6)}function gt(n){return vt(n)?"CDEFGAB".charAt(n):null}function yt(n){return/^b+$/.test(n)}function jt(n){return/^#+$/.test(n)}function xt(n){return""===n?0:yt(n)?-n.length:jt(n)?n.length:null}function _t(n,t){return Array(t+1).join(n)}function wt(n){return n?n<0?_t("b",-n):_t("#",n):""}function Ot(n,t){return n?n+" "+t:t}function Ct(n){return Ot(V("C",n),"major")}function It(n){return Oe[we.indexOf(n)]}function Ft(n){return n=n.trim().toLowerCase(),-1===we.indexOf(n)?null:n}function zt(n){if("string"!=typeof n)return null;var t,r=n.indexOf(" ");if(-1===r){var e=ee(n);t=e?{tonic:e,mode:"major"}:{tonic:!1,mode:Ft(n)}}else t={tonic:ee(n.slice(0,r)),mode:Ft(n.slice(r+1))};return t.mode?t:null}function kt(n){return null!==zt(n)}function Dt(n){return(zt(n)||n||{}).tonic||null}function Et(n){return(zt(n)||n||{}).mode||null}function Gt(n,t){return 1===arguments.length?function(t){return Gt(n,t)}:!(n=zt(n))||n.tonic?null:(t=zt(t))&&t.tonic?Ot(V(t.tonic,It(n.mode)-It(t.mode)),n.mode):null}function qt(n){var t=Vt(n);return null===t?null:t<0?dt([-1,t]).map(V("F")):dt([1,t]).map(V("B"))}function Bt(n){return n?we.slice():we.slice(0,-2)}function $t(n){return"number"==typeof n?Ct(n):null}function Nt(n){return jt(n)?Ct(n.length):yt(n)?Ct(-n.length):null}function St(n){var t=zt(n);return t&&t.tonic?pn(Ce[we.indexOf(t.mode)],t.tonic):null}function Vt(n){var t=zt(n);if(!t||!t.tonic)return null;var r=It(t.mode);return yn(t.tonic)-r}function Ut(n){return wt(Vt(n))}function Tt(n,t=(n=>n.split(" "))){const r=Object.keys(n).sort(),e={};r.forEach(r=>{e[r]=t(n[r][0]);(n[r][1]||[]).forEach(n=>e[n]=e[r])});const m=Object.keys(e).sort(),i=n=>e[n];return i.keys=(n=>(n?m:r).slice()),i}function Rt(n,t){console.warn("@deprecated: use dictionary.build"),t=t||(n=>n);var r={},e=Object.keys(n),m=[];return e.forEach(function(e){var i=t(n[e][0]);r[e]=i,n[e][1]&&n[e][1].forEach(function(n){r[n]=i,m.push(n)})}),{get:function(n){return r[n]},keys:function(n,t){var i=n?e.concat(m):e.slice();return"function"!=typeof t?i:i.filter(function(n){return t(n,r[n])})}}}function Kt(n,t){var r="string"==typeof t,e="function"==typeof t,m=n.keys(!1).reduce(function(t,r){return t[Zn(n.get(r))]=r,t},{});return function(n){return Z(tt(n=mn(Y(ee,n))).map(function(i,o){var P=m[i];if(!P)return null;var M=n[o];return r?M+t+P:e?t(P,M):[P,M]}))}}function Lt(n,t){if(console.warn("@deprecated: use scale.intervals or scale.notes"),1===arguments.length)return function(t){return Lt(n,t)};const r=De.get(n);return r?pn(r,t):null}function Ht(n){const t=Xt(n);if(t.tonic&&console.log(t.tonic,ee(t.tonic)),t.tonic){const n=ke(t.type);return n?n.map(T(ee(t.tonic))):[]}return(ke.tonic?Lt(ke.type,ee(ke.tonic)):null)||Z(Y(ee,n).map(function(n,t,r){return r.indexOf(n)<t?null:n}))}function Jt(n){const t=Xt(n);return ke(t.type)||[]}function Qt(n){return void 0!==ke(n)}function Wt(n){return console.warn("@renamed: use scale.exists"),Qt(n)}function Xt(n){if("string"!=typeof n)return null;const t=n.indexOf(" "),r=re(n.substring(0,t))||!1;return{tonic:r,type:r?n.substring(t+1):n}}function Yt(){return Be}function Zt(n,t){if(1===arguments.length)return function(t){return Zt(n,t)};var r=$e.get(n);return r?pn(r,t):null}function nr(n){var t=Pr(n),r=$e.get(t.type);return r?pn(r,t.tonic):Z(Y(re,n))}function tr(n){var t=Pr(n);return $e.get(t.type)||[]}function rr(n){return tr(n).length>0}function er(n){var t=Y(ee,n),r=ir(t);return r?r.indexOf(t[0]):null}function mr(n,t){if(1===arguments.length)return function(t){return mr(n,t)};var r=ir(t);return r?Pn(n,r):[]}function ir(n){for(var t=an(nr(n).map(ee)),r=0;r<t.length;r++)if(or(dn(t[r])))return t[r];return null}function or(n){for(var t=0;t<n.length;t++)if("3"!==n[t][0])return!1;return!0}function Pr(n){var t=Yt().exec(n);return t?t[4]?"7"===t[3]||"6"===t[3]?{type:t[3]+t[4],tonic:t[1]+t[2]}:{type:t[4],tonic:t[1]+t[2]+t[3]}:{type:t[3],tonic:t[1]+t[2]}:{type:n,tonic:!1}}function Mr(n,t){t=ee(t);var r=Z((n=Y(Pr,n)).map(function(n){return n.tonic}));return r.length!==n.length?null:r.map(function(r,e){var m=kn(J(t,r));return ur(m.num-1,m.alt,n[e].type)})}function ur(n,t,r){return wt(t)+Ue[n%7]+(r||"")}function ar(n,t){return Y(function(n){var r=lr(n);return r?S(r.root,t)+r.type:null},n)}function cr(){return Te}function lr(n){var t=Te.exec(n);if(!t)return null;var r=Re[t[2].toLowerCase()]+1,e=t[1].length;return"b"===t[1][0]&&(e=-e),{root:Dn({num:r,alt:e,dir:1}),type:t[3]}}function fr(n){var t,r,e,m=Z(Y(k,n)),i=m.length,o=[0,0,0,0,0,0];for(t=0;t<i;t++)for(r=t;r<i;r++)6===(e=qn(I(m[r])-I(m[t])))?o[5]=o[5]+1:e>0&&(o[5-e]=o[5-e]+1);return o}function sr(n){return mn(n).filter(function(n,t,r){return 0===t||n!==r[t-1]})}var dr=/^([a-gA-G])(#{1,}|b{1,}|x{1,}|)(-?\d*)\s*(.*)\s*$/,pr=[0,2,4,5,7,9,11],br="CDEFGAB",hr=new RegExp("^(?:(([-+]?)(\\d+)(d{1,4}|m|M|P|A{1,4}))|((AA|A|P|M|m|d|dd)([-+]?)(\\d+)))$"),Ar=[0,2,4,5,7,9,11],vr="PMMPPMM",gr=[0,2,4,-1,1,3,5],yr=gr.map(f),jr=[3,0,4,1,5,2,6],xr=F(function(n){var t=e(n);return t?A(t.step,t.alt,t.oct):null}),_r=F(function(n){var t=P(n);return t&&t?A(t.simple-1,t.alt,t.oct,t.dir):null}),wr=$(y,xr,G),Or=$(j,_r,q),Cr=$(h,z,B),Ir=Object.freeze({pitch:b,isPitch:h,encode:A,decode:v,pType:g,isNotePitch:y,isIvlPitch:j,isPC:x,dir:_,fifths:w,focts:O,height:C,chr:I,parseNote:xr,parseIvl:_r,parsePitch:z,asNotePitch:k,asIvlPitch:D,asPitch:E,strNote:G,strIvl:q,strPitch:B,noteFn:wr,ivlFn:Or,pitchFn:Cr}),Fr=Object.freeze({transpose:S,trFifths:V}),zr=Object.freeze({transpose:T,transposeBy:R,add:K,trFifths:L,interval:J,subtract:Q,semitones:W}),kr=Array.isArray,Dr=function(n){return function(t){return void 0===t?[]:Array.isArray(t)?t:"string"==typeof t?t.trim().split(n):[t]}}(/\s*\|\s*|\s*,\s*|\s+/),Er=fn(function(n){for(var t,r,e=n.length;e;)t=Math.random()*e--|0,r=n[e],n[e]=n[t],n[t]=r;return n}),Gr=Object.freeze({asArr:Dr,map:Y,compact:Z,filter:nn,sort:mn,shuffle:Er,rotate:Pn,rotateAsc:Mn,select:un,permutations:an}),qr=Object.freeze({harmonics:sn,intervallic:dn,harmonize:pn});const Br=/^([a-gA-G])(#{1,}|b{1,}|x{1,}|)(-?\d*)\s*(.*)\s*$/;var $r={};const Nr=n=>(t,r)=>null!==(r=An(t))?n(r):null,Sr=[0,2,4,5,7,9,11],Vr=Nr(n=>null!==n.oct?Sr[n.step]+n.alt+12*(n.oct+1):null),Ur=n=>Vr(n)||+n||null;var Tr="C Db D Eb E F Gb G Ab A Bb B".split(" "),Rr="C C# D D# E F F# G G# A A# B".split(" ");const Kr=(n,t)=>null!==(t=Ur(n))?440*Math.pow(2,(t-69)/12):null,Lr=Nr(n=>(Sr[n.step]+n.alt+120)%12),Hr=Nr(n=>n.oct),Jr=(n,t)=>ee(t)+n,Qr=Nr(n=>n.step),Wr=Nr(n=>n.alt),Xr=n=>"CDEFGAB"[n],Yr=(n,t)=>Array(t+1).join(n),Zr=(n,t)=>"number"!=typeof n?"":t(n),ne=n=>Zr(n,n=>n<0?Yr("b",-n):Yr("#",n)),te=n=>Xr(n.step)+ne(n.alt)+Zr(n.oct,n=>n),re=Nr(n=>te(n)),ee=Nr(n=>Xr(n.step)+ne(n.alt));var me=Object.freeze({split:bn,parse:An,midi:Ur,fromMidi:vn,freq:Kr,chroma:Lr,note:gn,oct:Hr,inOct:Jr,step:Qr,pcFifths:yn,alt:Wr,build:te,name:re,pc:ee}),ie="PMMPPMM",oe=[1,2,2,3,3,4,5,5,6,6,7,7],Pe="P m M m M P d P m M m M".split(" "),Me=[0,1,2,3,4,5,6,5,4,3,2,1],ue="PMMPPMM",ae=Or(function(n){var t=v(n);return A((7-t[0])%7,"P"===ue[t[0]]?-t[1]:-(t[1]+1),t[2],_(n))}),ce=Or(function(n){var t=v(n);return 0===t[0]&&1===t[2]||(t[2]=0),A(t[0],t[1],t[2],_(n))}),le=Object.freeze({toInterval:In,num:Fn,value:zn,props:kn,fromProps:Dn,semitones:En,fromSemitones:Gn,ic:qn,type:Bn,invert:ae,simplify:ce}),fe=/^([a-gA-G])(#{1,}|b{1,}|x{1,}|)(-?\d*)\s*(.*)\s*$/,se=[0,2,4,5,7,9,11],de="C Db D Eb E F Gb G Ab A Bb B".split(" "),pe="C C# D D# E F F# G G# A A# B".split(" "),be=Object.freeze({toMidi:Rn,note:Kn}),he=Hn(440,2),Ae=Jn(440,2),ve=Object.freeze({eqTempFreq:Hn,toFreq:he,eqTempFreqToMidi:Jn,toMidi:Ae,note:Qn,cents:Wn}),ge=/^[01]{12}$/,ye="1P 2m 2M 3m 3M 4P 5d 5P 6m 6M 7m 7M".split(" "),je=Object.freeze({chroma:Zn,notes:nt,modes:tt,isChroma:rt,intervals:et,fromChroma:mt,isEqual:it,isSubset:ot,isSuperset:Pt,includes:Mt,filter:ut}),xe=Object.freeze({numeric:dt,chromatic:pt,fifths:bt,pitchSet:ht}),_e=Object.freeze({toStep:At,isStep:vt,toLetter:gt,areFlats:yt,areSharps:jt,toAlt:xt,toAcc:wt}),we=["ionian","dorian","phrygian","lydian","mixolydian","aeolian","locrian","major","minor"],Oe=[0,2,4,-1,1,3,5,0,3],Ce=[0,1,2,3,4,5,6,0,5].map(function(n){return sn(Pn(n,["C","D","E","F","G","A","B"]))}),Ie=Ut,Fe=Object.freeze({props:zt,isKeyName:kt,tonic:Dt,mode:Et,relative:Gt,alteredNotes:qt,modes:Bt,fromAlter:$t,fromAcc:Nt,scale:St,alteration:Vt,signature:Ut,accidentals:Ie}),ze={M:["1P 3M 5P",["Major",""]],M13:["1P 3M 5P 7M 9M 13M",["maj13","Maj13"]],M6:["1P 3M 5P 13M",["6"]],M69:["1P 3M 5P 6M 9M",["69"]],M7add13:["1P 3M 5P 6M 7M 9M"],M7b5:["1P 3M 5d 7M"],M7b6:["1P 3M 6m 7M"],M7b9:["1P 3M 5P 7M 9m"],M7sus4:["1P 4P 5P 7M"],M9:["1P 3M 5P 7M 9M",["maj9","Maj9"]],M9b5:["1P 3M 5d 7M 9M"],M9sus4:["1P 4P 5P 7M 9M"],Madd9:["1P 3M 5P 9M",["2","add9","add2"]],Maj7:["1P 3M 5P 7M",["maj7","M7"]],Mb5:["1P 3M 5d"],Mb6:["1P 3M 13m"],Msus2:["1P 2M 5P",["add9no3","sus2"]],Msus4:["1P 4P 5P",["sus","sus4"]],addb9:["1P 3M 5P 9m"],m:["1P 3m 5P"],m11:["1P 3m 5P 7m 9M 11P",["_11"]],m11b5:["1P 3m 7m 12d 2M 4P",["h11","_11b5"]],m13:["1P 3m 5P 7m 9M 11P 13M",["_13"]],m6:["1P 3m 4P 5P 13M",["_6"]],m69:["1P 3m 5P 6M 9M",["_69"]],m7:["1P 3m 5P 7m",["minor7","_","_7"]],m7add11:["1P 3m 5P 7m 11P",["m7add4"]],m7b5:["1P 3m 5d 7m",["half-diminished","h7","_7b5"]],m9:["1P 3m 5P 7m 9M",["_9"]],m9b5:["1P 3m 7m 12d 2M",["h9","-9b5"]],mMaj7:["1P 3m 5P 7M",["mM7","_M7"]],mMaj7b6:["1P 3m 5P 6m 7M",["mM7b6"]],mM9:["1P 3m 5P 7M 9M",["mMaj9","-M9"]],mM9b6:["1P 3m 5P 6m 7M 9M",["mMaj9b6"]],mb6M7:["1P 3m 6m 7M"],mb6b9:["1P 3m 6m 9m"],o:["1P 3m 5d",["mb5","dim"]],o7:["1P 3m 5d 13M",["diminished","m6b5","dim7"]],o7M7:["1P 3m 5d 6M 7M"],oM7:["1P 3m 5d 7M"],sus24:["1P 2M 4P 5P",["sus4add9"]],madd4:["1P 3m 4P 5P"],madd9:["1P 3m 5P 9M"],4:["1P 4P 7m 10m",["quartal"]],5:["1P 5P"],7:["1P 3M 5P 7m",["Dominant","Dom"]],9:["1P 3M 5P 7m 9M",["79"]],11:["1P 5P 7m 9M 11P"],13:["1P 3M 5P 7m 9M 13M",["13_"]],64:["5P 8P 10M"],"M#5":["1P 3M 5A",["augmented","maj#5","Maj#5","+","aug"]],"M#5add9":["1P 3M 5A 9M",["+add9"]],"M13#11":["1P 3M 5P 7M 9M 11A 13M",["maj13#11","Maj13#11","M13+4","M13#4"]],"M6#11":["1P 3M 5P 6M 11A",["M6b5","6#11","6b5"]],"M69#11":["1P 3M 5P 6M 9M 11A"],"M7#11":["1P 3M 5P 7M 11A",["maj7#11","Maj7#11","M7+4","M7#4"]],"M7#5":["1P 3M 5A 7M",["maj7#5","Maj7#5","maj9#5","M7+"]],"M7#5sus4":["1P 4P 5A 7M"],"M7#9#11":["1P 3M 5P 7M 9A 11A"],"M9#11":["1P 3M 5P 7M 9M 11A",["maj9#11","Maj9#11","M9+4","M9#4"]],"M9#5":["1P 3M 5A 7M 9M",["Maj9#5"]],"M9#5sus4":["1P 4P 5A 7M 9M"],"11b9":["1P 5P 7m 9m 11P"],"13#11":["1P 3M 5P 7m 9M 11A 13M",["13+4","13#4"]],"13#9":["1P 3M 5P 7m 9A 13M",["13#9_"]],"13#9#11":["1P 3M 5P 7m 9A 11A 13M"],"13b5":["1P 3M 5d 6M 7m 9M"],"13b9":["1P 3M 5P 7m 9m 13M"],"13b9#11":["1P 3M 5P 7m 9m 11A 13M"],"13no5":["1P 3M 7m 9M 13M"],"13sus4":["1P 4P 5P 7m 9M 13M",["13sus"]],"69#11":["1P 3M 5P 6M 9M 11A"],"7#11":["1P 3M 5P 7m 11A",["7+4","7#4","7#11_","7#4_"]],"7#11b13":["1P 3M 5P 7m 11A 13m",["7b5b13"]],"7#5":["1P 3M 5A 7m",["+7","7aug","aug7"]],"7#5#9":["1P 3M 5A 7m 9A",["7alt","7#5#9_","7#9b13_"]],"7#5b9":["1P 3M 5A 7m 9m"],"7#5b9#11":["1P 3M 5A 7m 9m 11A"],"7#5sus4":["1P 4P 5A 7m"],"7#9":["1P 3M 5P 7m 9A",["7#9_"]],"7#9#11":["1P 3M 5P 7m 9A 11A",["7b5#9"]],"7#9#11b13":["1P 3M 5P 7m 9A 11A 13m"],"7#9b13":["1P 3M 5P 7m 9A 13m"],"7add6":["1P 3M 5P 7m 13M",["67","7add13"]],"7b13":["1P 3M 7m 13m"],"7b5":["1P 3M 5d 7m"],"7b6":["1P 3M 5P 6m 7m"],"7b9":["1P 3M 5P 7m 9m"],"7b9#11":["1P 3M 5P 7m 9m 11A",["7b5b9"]],"7b9#9":["1P 3M 5P 7m 9m 9A"],"7b9b13":["1P 3M 5P 7m 9m 13m"],"7b9b13#11":["1P 3M 5P 7m 9m 11A 13m",["7b9#11b13","7b5b9b13"]],"7no5":["1P 3M 7m"],"7sus4":["1P 4P 5P 7m",["7sus"]],"7sus4b9":["1P 4P 5P 7m 9m",["susb9","7susb9","7b9sus","7b9sus4","phryg"]],"7sus4b9b13":["1P 4P 5P 7m 9m 13m",["7b9b13sus4"]],"9#11":["1P 3M 5P 7m 9M 11A",["9+4","9#4","9#11_","9#4_"]],"9#11b13":["1P 3M 5P 7m 9M 11A 13m",["9b5b13"]],"9#5":["1P 3M 5A 7m 9M",["9+"]],"9#5#11":["1P 3M 5A 7m 9M 11A"],"9b13":["1P 3M 7m 9M 13m"],"9b5":["1P 3M 5d 7m 9M"],"9no5":["1P 3M 7m 9M"],"9sus4":["1P 4P 5P 7m 9M",["9sus"]],"m#5":["1P 3m 5A",["m+","mb6"]],"m11A 5":["1P 3m 6m 7m 9M 11P"],"m7#5":["1P 3m 6m 7m"],"m9#5":["1P 3m 6m 7m 9M"],"+add#9":["1P 3M 5A 9A"]};const ke=Tt({chromatic:["1P 2m 2M 3m 3M 4P 4A 5P 6m 6M 7m 7M"],lydian:["1P 2M 3M 4A 5P 6M 7M"],major:["1P 2M 3M 4P 5P 6M 7M",["ionian"]],mixolydian:["1P 2M 3M 4P 5P 6M 7m",["dominant"]],dorian:["1P 2M 3m 4P 5P 6M 7m"],aeolian:["1P 2M 3m 4P 5P 6m 7m",["minor"]],phrygian:["1P 2m 3m 4P 5P 6m 7m"],locrian:["1P 2m 3m 4P 5d 6m 7m"],altered:["1P 2m 3m 3M 5d 6m 7m",["super locrian","diminished whole tone","pomeroy"]],iwato:["1P 2m 4P 5d 7m"],hirajoshi:["1P 2M 3m 5P 6m"],kumoijoshi:["1P 2m 4P 5P 6m"],pelog:["1P 2m 3m 5P 6m"],prometheus:["1P 2M 3M 4A 6M 7m"],ritusen:["1P 2M 4P 5P 6M"],scriabin:["1P 2m 3M 5P 6M"],piongio:["1P 2M 4P 5P 6M 7m"],augmented:["1P 2A 3M 5P 5A 7M"],neopolitan:["1P 2m 3m 4P 5P 6m 7M"],diminished:["1P 2M 3m 4P 5d 6m 6M 7M"],egyptian:["1P 2M 4P 5P 7m"],oriental:["1P 2m 3M 4P 5d 6M 7m"],spanish:["1P 2m 3M 4P 5P 6m 7m",["phrygian major"]],flamenco:["1P 2m 3m 3M 4A 5P 7m"],balinese:["1P 2m 3m 4P 5P 6m 7M"],persian:["1P 2m 3M 4P 5d 6m 7M"],bebop:["1P 2M 3M 4P 5P 6M 7m 7M"],enigmatic:["1P 2m 3M 5d 6m 7m 7M"],ichikosucho:["1P 2M 3M 4P 5d 5P 6M 7M"],"melodic minor":["1P 2M 3m 4P 5P 6M 7M"],"melodic minor second mode":["1P 2m 3m 4P 5P 6M 7m"],"lydian augmented":["1P 2M 3M 4A 5A 6M 7M"],"lydian dominant":["1P 2M 3M 4A 5P 6M 7m",["lydian b7"]],"melodic minor fifth mode":["1P 2M 3M 4P 5P 6m 7m",["hindu","mixolydian b6M"]],"locrian #2":["1P 2M 3m 4P 5d 6m 7m"],"locrian major":["1P 2M 3M 4P 5d 6m 7m",["arabian"]],"major pentatonic":["1P 2M 3M 5P 6M",["pentatonic"]],"lydian pentatonic":["1P 3M 4A 5P 7M",["chinese"]],"mixolydian pentatonic":["1P 3M 4P 5P 7m",["indian"]],"locrian pentatonic":["1P 3m 4P 5d 7m",["minor seven flat five pentatonic"]],"minor pentatonic":["1P 3m 4P 5P 7m"],"minor six pentatonic":["1P 3m 4P 5P 6M"],"minor hexatonic":["1P 2M 3m 4P 5P 7M"],"flat three pentatonic":["1P 2M 3m 5P 6M",["kumoi"]],"flat six pentatonic":["1P 2M 3M 5P 6m"],"major flat two pentatonic":["1P 2m 3M 5P 6M"],"whole tone pentatonic":["1P 3M 5d 6m 7m"],"ionian pentatonic":["1P 3M 4P 5P 7M"],"lydian #5P pentatonic":["1P 3M 4A 5A 7M"],"lydian dominant pentatonic":["1P 3M 4A 5P 7m"],"minor #7M pentatonic":["1P 3m 4P 5P 7M"],"super locrian pentatonic":["1P 3m 4d 5d 7m"],"in-sen":["1P 2m 4P 5P 7m"],"vietnamese 1":["1P 3m 4P 5P 6m"],"vietnamese 2":["1P 3m 4P 5P 7m"],"prometheus neopolitan":["1P 2m 3M 4A 6M 7m"],"major blues":["1P 2M 3m 3M 5P 6M"],"minor blues":["1P 3m 4P 5d 5P 7m",["blues"]],"composite blues":["1P 2M 3m 3M 4P 5d 5P 6M 7m"],"augmented heptatonic":["1P 2A 3M 4P 5P 5A 7M"],"dorian #4":["1P 2M 3m 4A 5P 6M 7m"],"lydian diminished":["1P 2M 3m 4A 5P 6M 7M"],"whole tone":["1P 2M 3M 4A 5A 7m"],"leading whole tone":["1P 2M 3M 4A 5A 7m 7M"],"harmonic minor":["1P 2M 3m 4P 5P 6m 7M"],"lydian minor":["1P 2M 3M 4A 5P 6m 7m"],"neopolitan minor":["1P 2m 3m 4P 5P 6m 7M"],"neopolitan major":["1P 2m 3m 4P 5P 6M 7M",["dorian b2"]],"neopolitan major pentatonic":["1P 3M 4P 5d 7m"],"romanian minor":["1P 2M 3m 5d 5P 6M 7m"],"double harmonic lydian":["1P 2m 3M 4A 5P 6m 7M"],"harmonic major":["1P 2M 3M 4P 5P 6m 7M"],"double harmonic major":["1P 2m 3M 4P 5P 6m 7M",["gypsy"]],"hungarian minor":["1P 2M 3m 4A 5P 6m 7M"],"hungarian major":["1P 2A 3M 4A 5P 6M 7m"],"spanish heptatonic":["1P 2m 3m 3M 4P 5P 6m 7m"],"todi raga":["1P 2m 3m 4A 5P 6m 7M"],"malkos raga":["1P 3m 4P 6m 7m"],"kafi raga":["1P 3m 3M 4P 5P 6M 7m 7M"],"purvi raga":["1P 2m 3M 4P 4A 5P 6m 7M"],"bebop dominant":["1P 2M 3M 4P 5P 6M 7m 7M"],"bebop minor":["1P 2M 3m 3M 4P 5P 6M 7m"],"bebop major":["1P 2M 3M 4P 5P 5A 6M 7M"],"bebop locrian":["1P 2m 3m 4P 5d 5P 6m 7m"],"minor bebop":["1P 2M 3m 4P 5P 6m 7m 7M"],"mystery #1":["1P 2m 3M 5d 6m 7m"],"minor six diminished":["1P 2M 3m 4P 5P 6m 6M 7M"],"ionian augmented":["1P 2M 3M 4P 5A 6M 7M"],"lydian #9":["1P 2m 3M 4A 5P 6M 7M"],"six tone symmetric":["1P 2m 3M 4P 5A 6M"]}),De=(Tt(ze),Rt({chromatic:["1P 2m 2M 3m 3M 4P 4A 5P 6m 6M 7m 7M"],lydian:["1P 2M 3M 4A 5P 6M 7M"],major:["1P 2M 3M 4P 5P 6M 7M",["ionian"]],mixolydian:["1P 2M 3M 4P 5P 6M 7m",["dominant"]],dorian:["1P 2M 3m 4P 5P 6M 7m"],aeolian:["1P 2M 3m 4P 5P 6m 7m",["minor"]],phrygian:["1P 2m 3m 4P 5P 6m 7m"],locrian:["1P 2m 3m 4P 5d 6m 7m"],altered:["1P 2m 3m 3M 5d 6m 7m",["super locrian","diminished whole tone","pomeroy"]],iwato:["1P 2m 4P 5d 7m"],hirajoshi:["1P 2M 3m 5P 6m"],kumoijoshi:["1P 2m 4P 5P 6m"],pelog:["1P 2m 3m 5P 6m"],prometheus:["1P 2M 3M 4A 6M 7m"],ritusen:["1P 2M 4P 5P 6M"],scriabin:["1P 2m 3M 5P 6M"],piongio:["1P 2M 4P 5P 6M 7m"],augmented:["1P 2A 3M 5P 5A 7M"],neopolitan:["1P 2m 3m 4P 5P 6m 7M"],diminished:["1P 2M 3m 4P 5d 6m 6M 7M"],egyptian:["1P 2M 4P 5P 7m"],oriental:["1P 2m 3M 4P 5d 6M 7m"],spanish:["1P 2m 3M 4P 5P 6m 7m",["phrygian major"]],flamenco:["1P 2m 3m 3M 4A 5P 7m"],balinese:["1P 2m 3m 4P 5P 6m 7M"],persian:["1P 2m 3M 4P 5d 6m 7M"],bebop:["1P 2M 3M 4P 5P 6M 7m 7M"],enigmatic:["1P 2m 3M 5d 6m 7m 7M"],ichikosucho:["1P 2M 3M 4P 5d 5P 6M 7M"],"melodic minor":["1P 2M 3m 4P 5P 6M 7M"],"melodic minor second mode":["1P 2m 3m 4P 5P 6M 7m"],"lydian augmented":["1P 2M 3M 4A 5A 6M 7M"],"lydian dominant":["1P 2M 3M 4A 5P 6M 7m",["lydian b7"]],"melodic minor fifth mode":["1P 2M 3M 4P 5P 6m 7m",["hindu","mixolydian b6M"]],"locrian #2":["1P 2M 3m 4P 5d 6m 7m"],"locrian major":["1P 2M 3M 4P 5d 6m 7m",["arabian"]],"major pentatonic":["1P 2M 3M 5P 6M",["pentatonic"]],"lydian pentatonic":["1P 3M 4A 5P 7M",["chinese"]],"mixolydian pentatonic":["1P 3M 4P 5P 7m",["indian"]],"locrian pentatonic":["1P 3m 4P 5d 7m",["minor seven flat five pentatonic"]],"minor pentatonic":["1P 3m 4P 5P 7m"],"minor six pentatonic":["1P 3m 4P 5P 6M"],"minor hexatonic":["1P 2M 3m 4P 5P 7M"],"flat three pentatonic":["1P 2M 3m 5P 6M",["kumoi"]],"flat six pentatonic":["1P 2M 3M 5P 6m"],"major flat two pentatonic":["1P 2m 3M 5P 6M"],"whole tone pentatonic":["1P 3M 5d 6m 7m"],"ionian pentatonic":["1P 3M 4P 5P 7M"],"lydian #5P pentatonic":["1P 3M 4A 5A 7M"],"lydian dominant pentatonic":["1P 3M 4A 5P 7m"],"minor #7M pentatonic":["1P 3m 4P 5P 7M"],"super locrian pentatonic":["1P 3m 4d 5d 7m"],"in-sen":["1P 2m 4P 5P 7m"],"vietnamese 1":["1P 3m 4P 5P 6m"],"vietnamese 2":["1P 3m 4P 5P 7m"],"prometheus neopolitan":["1P 2m 3M 4A 6M 7m"],"major blues":["1P 2M 3m 3M 5P 6M"],"minor blues":["1P 3m 4P 5d 5P 7m",["blues"]],"composite blues":["1P 2M 3m 3M 4P 5d 5P 6M 7m"],"augmented heptatonic":["1P 2A 3M 4P 5P 5A 7M"],"dorian #4":["1P 2M 3m 4A 5P 6M 7m"],"lydian diminished":["1P 2M 3m 4A 5P 6M 7M"],"whole tone":["1P 2M 3M 4A 5A 7m"],"leading whole tone":["1P 2M 3M 4A 5A 7m 7M"],"harmonic minor":["1P 2M 3m 4P 5P 6m 7M"],"lydian minor":["1P 2M 3M 4A 5P 6m 7m"],"neopolitan minor":["1P 2m 3m 4P 5P 6m 7M"],"neopolitan major":["1P 2m 3m 4P 5P 6M 7M",["dorian b2"]],"neopolitan major pentatonic":["1P 3M 4P 5d 7m"],"romanian minor":["1P 2M 3m 5d 5P 6M 7m"],"double harmonic lydian":["1P 2m 3M 4A 5P 6m 7M"],"harmonic major":["1P 2M 3M 4P 5P 6m 7M"],"double harmonic major":["1P 2m 3M 4P 5P 6m 7M",["gypsy"]],"hungarian minor":["1P 2M 3m 4A 5P 6m 7M"],"hungarian major":["1P 2A 3M 4A 5P 6M 7m"],"spanish heptatonic":["1P 2m 3m 3M 4P 5P 6m 7m"],"todi raga":["1P 2m 3m 4A 5P 6m 7M"],"malkos raga":["1P 3m 4P 6m 7m"],"kafi raga":["1P 3m 3M 4P 5P 6M 7m 7M"],"purvi raga":["1P 2m 3M 4P 4A 5P 6m 7M"],"bebop dominant":["1P 2M 3M 4P 5P 6M 7m 7M"],"bebop minor":["1P 2M 3m 3M 4P 5P 6M 7m"],"bebop major":["1P 2M 3M 4P 5P 5A 6M 7M"],"bebop locrian":["1P 2m 3m 4P 5d 5P 6m 7m"],"minor bebop":["1P 2M 3m 4P 5P 6m 7m 7M"],"mystery #1":["1P 2m 3M 5d 6m 7m"],"minor six diminished":["1P 2M 3m 4P 5P 6m 6M 7M"],"ionian augmented":["1P 2M 3M 4P 5A 6M 7M"],"lydian #9":["1P 2m 3M 4A 5P 6M 7M"],"six tone symmetric":["1P 2m 3M 4P 5A 6M"]},function(n){return n.split(" ")})),Ee=ke.keys,Ge=Kt(De," ");var qe=Object.freeze({get:Lt,names:Ee,notes:Ht,intervals:Jt,exists:Qt,isKnowScale:Wt,parseName:Xt,detect:Ge}),Be=/^([a-gA-G])(#{1,}|b{1,}|x{1,}|)(-?\d*)\s*(.*)\s*$/,$e=Rt({M:["1P 3M 5P",["Major",""]],M13:["1P 3M 5P 7M 9M 13M",["maj13","Maj13"]],M6:["1P 3M 5P 13M",["6"]],M69:["1P 3M 5P 6M 9M",["69"]],M7add13:["1P 3M 5P 6M 7M 9M"],M7b5:["1P 3M 5d 7M"],M7b6:["1P 3M 6m 7M"],M7b9:["1P 3M 5P 7M 9m"],M7sus4:["1P 4P 5P 7M"],M9:["1P 3M 5P 7M 9M",["maj9","Maj9"]],M9b5:["1P 3M 5d 7M 9M"],M9sus4:["1P 4P 5P 7M 9M"],Madd9:["1P 3M 5P 9M",["2","add9","add2"]],Maj7:["1P 3M 5P 7M",["maj7","M7"]],Mb5:["1P 3M 5d"],Mb6:["1P 3M 13m"],Msus2:["1P 2M 5P",["add9no3","sus2"]],Msus4:["1P 4P 5P",["sus","sus4"]],addb9:["1P 3M 5P 9m"],m:["1P 3m 5P",["minor"]],m11:["1P 3m 5P 7m 9M 11P",["_11"]],m11b5:["1P 3m 7m 12d 2M 4P",["h11","_11b5"]],m13:["1P 3m 5P 7m 9M 11P 13M",["_13"]],m6:["1P 3m 4P 5P 13M",["_6"]],m69:["1P 3m 5P 6M 9M",["_69"]],m7:["1P 3m 5P 7m",["minor7","_","_7"]],m7add11:["1P 3m 5P 7m 11P",["m7add4"]],m7b5:["1P 3m 5d 7m",["half-diminished","h7","_7b5"]],m9:["1P 3m 5P 7m 9M",["_9"]],m9b5:["1P 3m 7m 12d 2M",["h9","-9b5"]],mMaj7:["1P 3m 5P 7M",["mM7","_M7"]],mMaj7b6:["1P 3m 5P 6m 7M",["mM7b6"]],mM9:["1P 3m 5P 7M 9M",["mMaj9","-M9"]],mM9b6:["1P 3m 5P 6m 7M 9M",["mMaj9b6"]],mb6M7:["1P 3m 6m 7M"],mb6b9:["1P 3m 6m 9m"],o:["1P 3m 5d",["mb5","dim"]],o7:["1P 3m 5d 13M",["diminished","m6b5","dim7"]],o7M7:["1P 3m 5d 6M 7M"],oM7:["1P 3m 5d 7M"],sus24:["1P 2M 4P 5P",["sus4add9"]],madd4:["1P 3m 4P 5P"],madd9:["1P 3m 5P 9M"],4:["1P 4P 7m 10m",["quartal"]],5:["1P 5P"],7:["1P 3M 5P 7m",["Dominant","Dom"]],9:["1P 3M 5P 7m 9M",["79"]],11:["1P 5P 7m 9M 11P"],13:["1P 3M 5P 7m 9M 13M",["13_"]],64:["5P 8P 10M"],"M#5":["1P 3M 5A",["augmented","maj#5","Maj#5","+","aug"]],"M#5add9":["1P 3M 5A 9M",["+add9"]],"M13#11":["1P 3M 5P 7M 9M 11A 13M",["maj13#11","Maj13#11","M13+4","M13#4"]],"M6#11":["1P 3M 5P 6M 11A",["M6b5","6#11","6b5"]],"M69#11":["1P 3M 5P 6M 9M 11A"],"M7#11":["1P 3M 5P 7M 11A",["maj7#11","Maj7#11","M7+4","M7#4"]],"M7#5":["1P 3M 5A 7M",["maj7#5","Maj7#5","maj9#5","M7+"]],"M7#5sus4":["1P 4P 5A 7M"],"M7#9#11":["1P 3M 5P 7M 9A 11A"],"M9#11":["1P 3M 5P 7M 9M 11A",["maj9#11","Maj9#11","M9+4","M9#4"]],"M9#5":["1P 3M 5A 7M 9M",["Maj9#5"]],"M9#5sus4":["1P 4P 5A 7M 9M"],"11b9":["1P 5P 7m 9m 11P"],"13#11":["1P 3M 5P 7m 9M 11A 13M",["13+4","13#4"]],"13#9":["1P 3M 5P 7m 9A 13M",["13#9_"]],"13#9#11":["1P 3M 5P 7m 9A 11A 13M"],"13b5":["1P 3M 5d 6M 7m 9M"],"13b9":["1P 3M 5P 7m 9m 13M"],"13b9#11":["1P 3M 5P 7m 9m 11A 13M"],"13no5":["1P 3M 7m 9M 13M"],"13sus4":["1P 4P 5P 7m 9M 13M",["13sus"]],"69#11":["1P 3M 5P 6M 9M 11A"],"7#11":["1P 3M 5P 7m 11A",["7+4","7#4","7#11_","7#4_"]],"7#11b13":["1P 3M 5P 7m 11A 13m",["7b5b13"]],"7#5":["1P 3M 5A 7m",["+7","7aug","aug7"]],"7#5#9":["1P 3M 5A 7m 9A",["7alt","7#5#9_","7#9b13_"]],"7#5b9":["1P 3M 5A 7m 9m"],"7#5b9#11":["1P 3M 5A 7m 9m 11A"],"7#5sus4":["1P 4P 5A 7m"],"7#9":["1P 3M 5P 7m 9A",["7#9_"]],"7#9#11":["1P 3M 5P 7m 9A 11A",["7b5#9"]],"7#9#11b13":["1P 3M 5P 7m 9A 11A 13m"],"7#9b13":["1P 3M 5P 7m 9A 13m"],"7add6":["1P 3M 5P 7m 13M",["67","7add13"]],"7b13":["1P 3M 7m 13m"],"7b5":["1P 3M 5d 7m"],"7b6":["1P 3M 5P 6m 7m"],"7b9":["1P 3M 5P 7m 9m"],"7b9#11":["1P 3M 5P 7m 9m 11A",["7b5b9"]],"7b9#9":["1P 3M 5P 7m 9m 9A"],"7b9b13":["1P 3M 5P 7m 9m 13m"],"7b9b13#11":["1P 3M 5P 7m 9m 11A 13m",["7b9#11b13","7b5b9b13"]],"7no5":["1P 3M 7m"],"7sus4":["1P 4P 5P 7m",["7sus"]],"7sus4b9":["1P 4P 5P 7m 9m",["susb9","7susb9","7b9sus","7b9sus4","phryg"]],"7sus4b9b13":["1P 4P 5P 7m 9m 13m",["7b9b13sus4"]],"9#11":["1P 3M 5P 7m 9M 11A",["9+4","9#4","9#11_","9#4_"]],"9#11b13":["1P 3M 5P 7m 9M 11A 13m",["9b5b13"]],"9#5":["1P 3M 5A 7m 9M",["9+"]],"9#5#11":["1P 3M 5A 7m 9M 11A"],"9b13":["1P 3M 7m 9M 13m"],"9b5":["1P 3M 5d 7m 9M"],"9no5":["1P 3M 7m 9M"],"9sus4":["1P 4P 5P 7m 9M",["9sus"]],"m#5":["1P 3m 5A",["m+","mb6"]],"m11A 5":["1P 3m 6m 7m 9M 11P"],"m7#5":["1P 3m 6m 7m"],"m9#5":["1P 3m 6m 7m 9M"],"+add#9":["1P 3M 5A 9A"]},function(n){return n.split(" ")}),Ne=$e.keys,Se=Kt($e,""),Ve=Object.freeze({names:Ne,get:Zt,notes:nr,intervals:tr,isKnownChord:rr,detect:Se,position:er,inversion:mr,parse:Pr}),Ue=["I","II","III","IV","V","VI","VII"],Te=/^\s*(b|bb|#|##|)(IV|III|II|I|VII|VI|V|iv|iii|ii|i|vii|vi|v)\s*(.*)\s*$/,Re={i:0,ii:1,iii:2,iv:3,v:4,vi:5,vii:6},Ke=Object.freeze({abstract:Mr,buildRoman:ur,concrete:ar,romanRegex:cr,parseRomanChord:lr}),Le=Object.freeze({density:fr}),He=Object.freeze({notes:sr}),Je=Object.assign,Qe=Je({},Gr,Fr,qr,zr);return Qe.pitch=Ir,Qe.notation=_e,Qe.note=me,Qe.ivl=le,Qe.midi=be,Qe.freq=ve,Qe.range=xe,Qe.key=Fe,Qe.progression=Ke,Qe.sonority=Le,Qe.pitchset=He,Qe.pcset=je,Qe.scale=function(n){return Qe.scale.notes(n)},Je(Qe.scale,qe),Qe.chord=function(n){return Qe.chord.notes(n)},Je(Qe.chord,Ve),"undefined"!=typeof window&&(window.Tonal=Qe),Qe});
//# sourceMappingURL=tonal.min.js.map

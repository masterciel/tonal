!function n(t,r,i){function e(u,a){if(!r[u]){if(!t[u]){var c="function"==typeof require&&require;if(!a&&c)return c(u,!0);if(o)return o(u,!0);var l=new Error("Cannot find module '"+u+"'");throw l.code="MODULE_NOT_FOUND",l}var f=r[u]={exports:{}};t[u][0].call(f.exports,function(n){var r=t[u][1][n];return e(r?r:n)},f,f.exports,n,t,r,i)}return r[u].exports}for(var o="function"==typeof require&&require,u=0;u<i.length;u++)e(i[u]);return e}({1:[function(n,t,r){"use strict";var i=n("tonal-note"),e=n("tonal-interval"),o=n("tonal-midi"),u=n("tonal-freq"),a=n("tonal-transpose"),c=n("tonal-distance"),l=n("tonal-filter"),f=n("tonal-array"),s=n("tonal-range");r.noteName=i.noteName,r.chroma=i.chroma,r.pc=i.pc,r.enharmonics=i.enharmonics,r.enh=i.enh,r.simpleEnh=i.simpleEnh,r.ivlName=e.ivlName,r.semitones=e.semitones,r.fromSemitones=e.fromSemitones,r.ic=e.ic,r.itype=e.itype,r.invert=e.invert,r.simplify=e.simplify,r.isMidiNum=o.isMidiNum,r.toMidi=o.toMidi,r.fromMidi=o.fromMidi,r.fromMidiS=o.fromMidiS,r.toEqualTemp=u.toEqualTemp,r.toFreq=u.toFreq,r.midiFromFreq=u.midiFromFreq,r.fromFreq=u.fromFreq,r.cents=u.cents,r.fromEqualTemp=u.fromEqualTemp,r.transpose=a.transpose,r.tr=a.tr,r.trFifths=a.trFifths,r.distance=c.distance,r.interval=c.interval,r.scaleFilter=l.scaleFilter,r.asArr=f.asArr,r.map=f.map,r.filter=f.filter,r.listFn=f.listFn,r.harmonizer=f.harmonizer,r.harmonize=f.harmonize,r.sort=f.sort,r.shuffle=f.shuffle,r.range=s.range,r.chromatic=s.chromatic,r.cycleOfFifths=s.cycleOfFifths,r.scaleRange=s.scaleRange},{"tonal-array":2,"tonal-distance":8,"tonal-filter":14,"tonal-freq":15,"tonal-interval":16,"tonal-midi":22,"tonal-note":28,"tonal-range":34,"tonal-transpose":36}],2:[function(n,t,r){"use strict";function i(n){return n}function e(n){return M.isArr(n)?n:"string"==typeof n?n.trim().split(F):null===n||"undefined"==typeof n?[]:[n]}function o(n,t){return arguments.length>1?o(n)(t):function(t){return e(t).map(n)}}function u(n,t){return 1===arguments.length?function(r){return u(n,t)}:o(n,t).filter(i)}function a(n){return e(n).filter(i)}function c(n,t){return arguments.length>1?c(n)(t):function(t){return e(t).filter(n)}}function l(n){var t=e(n);return t.length?t.map(P.distance(t[0])).filter(i):t}function f(n){return function(t){return u(g.tr(t||"P1"),n)}}function s(n,t){return q(n)-q(t)}function p(n,t){return-s(n,t)}function h(n,t){if(arguments.length>1)return h(n)(t);var r=n===!0||null===n?s:n===!1?p:n;return v(function(n){return n.sort(r)})}function d(n){return y.strPitch(n)||n}function m(n){return y.isPitch(n)?y.strPitch(n):M.isArr(n)?n.map(d):n}function v(n){return function(t){var r=e(t).map(y.asPitch),i=n(r);return m(i)}}var y=n("tonal-pitch"),M=n("tonal-notation"),g=n("tonal-transpose"),P=n("tonal-distance"),F=/\s*\|\s*|\s*,\s*|\s+/,A=function(n,t){return arguments.length>1?f(n)(t):f(n)},q=function(n){if(!n)return-(1/0);var t=7*n[1],r=M.isNum(n[2])?n[2]:-Math.floor(t/12)-10;return t+12*r},N=v(function(n){for(var t,r,i=n.length;i;)t=Math.random()*i--|0,r=n[i],n[i]=n[t],n[t]=r;return n});r.asArr=e,r.map=o,r.cMap=u,r.compact=a,r.filter=c,r.harmonics=l,r.harmonizer=f,r.harmonize=A,r.sort=h,r.shuffle=N,r.listFn=v},{"tonal-distance":8,"tonal-notation":3,"tonal-pitch":4,"tonal-transpose":36}],3:[function(n,t,r){!function(n,i){"object"==typeof r&&"undefined"!=typeof t?i(r):"function"==typeof define&&define.amd?define(["exports"],i):i(n.notation=n.notation||{})}(this,function(n){"use strict";function t(n){return"number"==typeof n}function r(n){return"string"==typeof n}function i(n){var t="CDEFGAB".indexOf(n.toUpperCase());return 0>t?null:t}function e(n){return!(0>n||n>6)}function o(n){return e(n)?"CDEFGAB".charAt(n):null}function u(n){return/^b+$/.test(n)}function a(n){return/^#+$/.test(n)}function c(n){return""===n?0:u(n)?-n.length:a(n)?n.length:null}function l(n,t){return Array(t+1).join(n)}function f(n){return 0===n?"":0>n?l("b",-n):l("#",n)}var s=Array.isArray;n.isArr=s,n.isNum=t,n.isStr=r,n.toStep=i,n.isStep=e,n.toLetter=o,n.areFlats=u,n.areSharps=a,n.toAlt=c,n.toAcc=f})},{}],4:[function(n,t,r){"use strict";function i(n,t,r){return r?["tnlp",[n,t],r]:["tnlp",[n,t]]}function e(n){return C.isArr(n)&&"tnlp"===n[0]}function o(n,t,r,i){return i?["tnlp",I.encode(n,t,r),i]:["tnlp",I.encode(n,t,r)]}function u(n){return I.decode.apply(null,n[1])}function a(n){return e(n)?n[2]?"ivl":"note":null}function c(n){return"note"===a(n)}function l(n){return"ivl"===a(n)}function f(n){return e(n)&&1===n[1].length}function s(n){return-1===n[2]?-1:1}function p(n){return-1===n[2]?-n[1][0]:n[1][0]}function h(n){return-1===n[2]?-n[1][1]:n[1][1]}function d(n){return 7*p(n)+12*h(n)}function m(n){var t=p(n);return 7*t-12*Math.floor(7*t/12)}function v(n){var t={};return function(r){return C.isStr(r)?t[r]||(t[r]=n(r)):null}}function y(n){return T(n)||S(n)}function M(n){return c(n)?n:T(n)}function g(n){return l(n)?n:S(n)}function P(n){return e(n)?n:y(n)}function F(n){return C.isNum(n)?n:""}function A(n){if(!c(n))return null;var t=u(n);return C.toLetter(t[0])+C.toAcc(t[1])+F(t[2])}function q(n){if(!l(n))return null;var t=u(n),r=t[0]+1+7*t[2];return n[2]*r+x.altToQ(r,t[1])}function N(n){return A(n)||q(n)}function b(n,t,r){return function(i){return function(e){var o=n(e);if(o)return i(e);var u=t(e);return u?r(i(u)):null}}}var E=n("note-parser"),x=n("interval-notation"),I=n("tonal-encoding"),C=n("tonal-notation"),T=v(function(n){var t=E.parse(n);return t?o(t.step,t.alt,t.oct):null}),S=v(function(n){var t=x.parse(n);return t&&t?o(t.simple-1,t.alt,t.oct,t.dir):null}),O=b(c,T,A),D=b(l,S,q),z=b(e,y,N);r.pitch=i,r.isPitch=e,r.encode=o,r.decode=u,r.pType=a,r.isNotePitch=c,r.isIvlPitch=l,r.isPC=f,r.dir=s,r.fifths=p,r.focts=h,r.height=d,r.chr=m,r.parseNote=T,r.parseIvl=S,r.parsePitch=y,r.asNotePitch=M,r.asIvlPitch=g,r.asPitch=P,r.strNote=A,r.strIvl=q,r.strPitch=N,r.noteFn=O,r.ivlFn=D,r.pitchFn=z},{"interval-notation":5,"note-parser":6,"tonal-encoding":7,"tonal-notation":3}],5:[function(n,t,r){"use strict";function i(n){if("string"!=typeof n)return null;var t=m.exec(n);if(!t)return null;var r={num:+(t[3]||t[8]),q:t[4]||t[6]};r.dir="-"===(t[2]||t[7])?-1:1;var i=(r.num-1)%7;return r.simple=i+1,r.type=y[i],r.alt=l(r.type,r.q),r.oct=Math.floor((r.num-1)/7),r.size=r.dir*(v[i]+r.alt+12*r.oct),r}function e(n){return y[(n-1)%7]}function o(n){return-1===n?"-":""}function u(n,t){return n+7*t}function a(n,t,r,i){return s(n,t)+o(i)+u(n,r)}function c(n,t,r,i){return o(i)+u(n,r)+s(n,t)}function l(n,t){var r="number"==typeof n?e(n):n;return"M"===t&&"M"===r?0:"P"===t&&"P"===r?0:"m"===t&&"M"===r?-1:/^A+$/.test(t)?t.length:/^d+$/.test(t)?"P"===r?-t.length:-t.length-1:null}function f(n,t){return Array(Math.abs(t)+1).join(n)}function s(n,t){var r="number"==typeof n?e(Math.abs(n)):n;return 0===t?"M"===r?"M":"P":-1===t&&"M"===r?"m":t>0?f("A",t):0>t?f("d","P"===r?t:t+1):null}var p="([-+]?)(\\d+)(d{1,4}|m|M|P|A{1,4})",h="(AA|A|P|M|m|d|dd)([-+]?)(\\d+)",d="(?:("+p+")|("+h+"))",m=new RegExp("^"+d+"$"),v=[0,2,4,5,7,9,11],y="PMMPPMM";t.exports={parse:i,type:e,altToQ:s,qToAlt:l,build:c,shorthand:a}},{}],6:[function(n,t,r){"use strict";function i(){return u}function e(n,t,r){if("string"!=typeof n)return null;var i=u.exec(n);if(!i||!t&&i[4])return null;r=r||440;var e={letter:i[1].toUpperCase(),acc:i[2].replace(/x/g,"##")};return e.pc=e.letter+e.acc,e.step=(e.letter.charCodeAt(0)+3)%7,e.alt="b"===e.acc[0]?-e.acc.length:e.acc.length,e.chroma=a[e.step]+e.alt,i[3]&&(e.oct=+i[3],e.midi=e.chroma+12*(e.oct+1),e.freq=Math.pow(2,(e.midi-69)/12)*r),t&&(e.tonicOf=i[4]),e}function o(n,t){return n[t]=function(n){var r=e(n);return r&&"undefined"!=typeof r[t]?r[t]:null},n}var u=/^([a-gA-G])(#{1,}|b{1,}|x{1,}|)(-?\d*)\s*(.*)\s*$/,a=[0,2,4,5,7,9,11],c=["letter","acc","pc","step","alt","chroma","oct","midi","freq"],l=c.reduce(o,{});l.regex=i,l.parse=e,t.exports=l},{}],7:[function(n,t,r){"use strict";function i(n){return"number"==typeof n}function e(n){return Math.floor(7*n/12)}function o(n,t,r){var e=c[n]+7*t;if(!i(r))return[e];var o=r-l[n]-4*t;return[e,o]}function u(n){var t=(n+1)%7;return 0>t?7+t:t}function a(n,t){var r=f[u(n)],e=Math.floor((n+1)/7);if(!i(t))return[r,e];var o=t+4*e+l[r];return[r,e,o]}var c=[0,2,4,-1,1,3,5],l=c.map(e),f=[3,0,4,1,5,2,6];r.encode=o,r.decode=a},{}],8:[function(n,t,r){"use strict";function i(n,t){if(!n||!t||n[1].length!==t[1].length)return null;var r=o.fifths(t)-o.fifths(n);if(o.isPC(n))return o.pitch(r,-Math.floor(7*r/12),1);var i=o.focts(t)-o.focts(n),e=o.height(t)-o.height(n)<0?-1:1;return o.pitch(e*r,e*i,e)}function e(n,t){if(1===arguments.length)return function(t){return u(n,t)};var r=o.asPitch(n),e=o.asPitch(t),a=i(r,e);return n===r&&t===e?a:o.strIvl(a)}var o=n("tonal-pitch"),u=e;r.interval=e,r.distance=u},{"tonal-pitch":9}],9:[function(n,t,r){arguments[4][4][0].apply(r,arguments)},{dup:4,"interval-notation":10,"note-parser":11,"tonal-encoding":12,"tonal-notation":13}],10:[function(n,t,r){arguments[4][5][0].apply(r,arguments)},{dup:5}],11:[function(n,t,r){arguments[4][6][0].apply(r,arguments)},{dup:6}],12:[function(n,t,r){arguments[4][7][0].apply(r,arguments)},{dup:7}],13:[function(n,t,r){arguments[4][3][0].apply(r,arguments)},{dup:3}],14:[function(n,t,r){"use strict";function i(n,t){if(arguments.length>1)return i(n)(t);var r=o.map(e.pc,n),a=o.map(e.chroma,r);return function(n){var t=u.toMidi(n),i=null!==t?t-12:e.chroma(n),o=a.indexOf(i%12);return o>-1?r[o]+Math.floor(i/12):null}}var e=n("tonal-note"),o=n("tonal-array"),u=n("tonal-midi");r.scaleFilter=i},{"tonal-array":2,"tonal-midi":22,"tonal-note":28}],15:[function(n,t,r){"use strict";function i(n){return function(t){var r=a.toMidi(t);return r?Math.pow(2,(r-69)/12)*n:null}}function e(n){return function(t){var r=12*(Math.log(t)-Math.log(n))/Math.log(2)+69;return Math.round(r)}}function o(n){return a.fromMidi(l(n))}function u(n,t){var r=c(n)||n,i=c(t)||t;return 1200*(Math.log(i/r)/Math.log(2))}var a=n("tonal-midi"),c=i(440),l=e(440);r.toEqualTemp=i,r.toFreq=c,r.fromEqualTemp=e,r.midiFromFreq=l,r.fromFreq=o,r.cents=u},{"tonal-midi":22}],16:[function(n,t,r){"use strict";function i(n){var t=c.asIvlPitch(n);return t?c.strIvl(t):null}function e(n){var t=c.asIvlPitch(n);return t?7*c.fifths(t)+12*c.focts(t):null}function o(n){var t=0>n?-1:1,r=Math.abs(n),i=r%12,e=Math.floor(r/12);return t*(l[i]+7*e)+f[i]}function u(n){var t=c.asIvlPitch(n),r=t?c.chr(t):Math.round(n);return isNaN(r)?null:s[Math.abs(r)%12]}function a(n){var t=c.asIvlPitch(n);return t?p[c.decode(t)[0]]:null}var c=n("tonal-pitch"),l=[1,2,2,3,3,4,5,5,6,6,7,7],f="P m M m M P d P m M m M".split(" "),s=[0,1,2,3,4,5,6,5,4,3,2,1],p="PMMPPMM",h=c.ivlFn(function(n){var t=c.decode(n),r=(7-t[0])%7,i="P"===p[t[0]]?-t[1]:-(t[1]+1);return c.encode(r,i,t[2],c.dir(n))}),d=c.ivlFn(function(n){var t=c.decode(n);return 0===t[0]&&1===t[2]||(t[2]=0),c.encode(t[0],t[1],t[2],c.dir(n))});r.ivlName=i,r.semitones=e,r.fromSemitones=o,r.ic=u,r.itype=a,r.invert=h,r.simplify=d},{"tonal-pitch":18}],17:[function(n,t,r){arguments[4][7][0].apply(r,arguments)},{dup:7}],18:[function(n,t,r){arguments[4][4][0].apply(r,arguments)},{dup:4,"interval-notation":19,"note-parser":20,"tonal-encoding":17,"tonal-notation":21}],19:[function(n,t,r){arguments[4][5][0].apply(r,arguments)},{dup:5}],20:[function(n,t,r){arguments[4][6][0].apply(r,arguments)},{dup:6}],21:[function(n,t,r){arguments[4][3][0].apply(r,arguments)},{dup:3}],22:[function(n,t,r){!function(i,e){"object"==typeof r&&"undefined"!=typeof t?e(r,n("tonal-pitch")):"function"==typeof define&&define.amd?define(["exports","tonal-pitch"],e):e(i.midi=i.midi||{},i.tonalPitch)}(this,function(n,t){"use strict";function r(n){return null===n||Array.isArray(n)?!1:n>=0&&128>n}function i(n){var i=t.asNotePitch(n);return i&&!t.isPC(i)?t.height(i)+12:r(n)?+n:null}function e(n){return function(t){var r=n[t%12],i=Math.floor(t/12)-1;return r+i}}var o="C Db D Eb E F Gb G Ab A Bb B".split(" "),u="C C# D D# E F F# G G# A A# B".split(" "),a=e(o),c=e(u);n.isMidiNum=r,n.toMidi=i,n.fromMidi=a,n.fromMidiS=c})},{"tonal-pitch":23}],23:[function(n,t,r){arguments[4][4][0].apply(r,arguments)},{dup:4,"interval-notation":24,"note-parser":25,"tonal-encoding":26,"tonal-notation":27}],24:[function(n,t,r){arguments[4][5][0].apply(r,arguments)},{dup:5}],25:[function(n,t,r){arguments[4][6][0].apply(r,arguments)},{dup:6}],26:[function(n,t,r){arguments[4][7][0].apply(r,arguments)},{dup:7}],27:[function(n,t,r){arguments[4][3][0].apply(r,arguments)},{dup:3}],28:[function(n,t,r){"use strict";function i(n){var t=c.asNotePitch(n);return t?c.chr(t):null}function e(n){var t=c.asNotePitch(n);return t?c.strNote(t):null}function o(n){var t=c.asNotePitch(n);return t?c.strNote([t[0],[c.fifths(t)]]):null}function u(n){var t=[];return t.push(l.tr(s,n)),null===t[0]?null:(t.push(n),t.push(l.tr(f,n)),t)}function a(n){return u(n).reduce(function(n,t){return n?n.length>t.length?t:n:t},null)}var c=n("tonal-pitch"),l=n("tonal-transpose"),f=c.parseIvl("2d"),s=c.parseIvl("-2d"),p=u;r.chroma=i,r.noteName=e,r.pc=o,r.enharmonics=u,r.enh=p,r.simpleEnh=a},{"tonal-pitch":29,"tonal-transpose":36}],29:[function(n,t,r){arguments[4][4][0].apply(r,arguments)},{dup:4,"interval-notation":30,"note-parser":31,"tonal-encoding":32,"tonal-notation":33}],30:[function(n,t,r){arguments[4][5][0].apply(r,arguments)},{dup:5}],31:[function(n,t,r){arguments[4][6][0].apply(r,arguments)},{dup:6}],32:[function(n,t,r){arguments[4][7][0].apply(r,arguments)},{dup:7}],33:[function(n,t,r){arguments[4][3][0].apply(r,arguments)},{dup:3}],34:[function(n,t,r){"use strict";function i(n){return"number"==typeof n}function e(n){return i(n)?n:d.toMidi(n)}function o(n,t){for(var r=[];t--;r[t]=t+n);return r}function u(n,t){for(var r=[];t--;r[t]=n-t);return r}function a(n,t){return null===n||null===t?[]:t>n?o(n,t-n+1):u(n,n-t+1)}function c(n){return p.asArr(n).map(e).reduce(function(n,t,r){if(1===r)return a(n,t);var i=n[n.length-1];return n.concat(a(i,t).slice(1))})}function l(n){var t=1===arguments.length?n:v.call(arguments);return p.cMap(d.fromMidi,c(t))}function f(n,t,r){return c([n,t]).map(h.trFifths(r))}function s(n,t){if(1===arguments.length)return function(t){return s(n,t)};var r="function"==typeof n?n:m.scaleFilter(n);return p.cMap(r,c(t))}var p=n("tonal-array"),h=n("tonal-transpose"),d=n("tonal-midi"),m=n("tonal-filter"),v=Array.prototype.slice;r.range=c,r.chromatic=l,r.cycleOfFifths=f,r.scaleRange=s},{"tonal-array":2,"tonal-filter":35,"tonal-midi":22,"tonal-transpose":36}],35:[function(n,t,r){arguments[4][14][0].apply(r,arguments)},{dup:14,"tonal-array":2,"tonal-midi":22,"tonal-note":28}],36:[function(n,t,r){"use strict";function i(n,t){var r=u.pType(t);if(!r)return null;var i=u.fifths(n)+u.fifths(t);if(u.isPC(t))return["tnlp",[i]];var e=u.focts(n)+u.focts(t);if("note"===r)return["tnlp",[i,e]];var o=u.height(n)+u.height(t)<0?-1:1;return["tnlp",[o*i,o*e],o]}function e(n,t){if(1===arguments.length)return function(t){return e(n,t)};var r=u.asPitch(n),o=u.asPitch(t),a=u.isIvlPitch(r)?i(r,o):u.isIvlPitch(o)?i(o,r):null;return n===r&&t===o?a:u.strPitch(a)}function o(n,t){return arguments.length>1?o(n)(t):function(t){return a(n,u.pitch(t,0,1))}}var u=n("tonal-pitch"),a=e;r.transpose=e,r.tr=a,r.trFifths=o},{"tonal-pitch":37}],37:[function(n,t,r){arguments[4][4][0].apply(r,arguments)},{dup:4,"interval-notation":38,"note-parser":39,"tonal-encoding":40,"tonal-notation":41}],38:[function(n,t,r){arguments[4][5][0].apply(r,arguments)},{dup:5}],39:[function(n,t,r){arguments[4][6][0].apply(r,arguments)},{dup:6}],40:[function(n,t,r){arguments[4][7][0].apply(r,arguments)},{dup:7}],41:[function(n,t,r){arguments[4][3][0].apply(r,arguments)},{dup:3}]},{},[1]);
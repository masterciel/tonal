!function(n,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t(n.Tonal={})}(this,function(n){"use strict";function t(n){const t=I.exec(n);return t?[t[1].toUpperCase(),t[2].replace(/x/g,"##"),t[3],t[4]]:null}function e(n){return"string"!=typeof n?T:void 0===L[n]?L[n]=S(n):L[n]}function o(n,t){return n=Math.round(n),(!0===t?Mn:Pn)[n%12]+(Math.floor(n/12)-1)}function m(n){return"string"!=typeof n?dn:gn[n]||(gn[n]=An(n))}function i(n){const t=(n+1)%7;return t<0?7+t:t}function r(n,t){if(1===arguments.length)return t=>r(n,t);const e=Ln(n),o=Rn(t);if(null===e||null===o)return null;const m=1===e.length?[e[0]+o[0]]:[e[0]+o[0],e[1]+o[1]];return un(Tn(m[0],m[1]))}function u(n,t){if(1===arguments.length)return t=>u(n,t);const e=Ln(n);return null===e?null:un(Tn(e[0]+t))}function P(n,t){if(1===arguments.length)return t=>P(n,t);const e=Ln(n),o=Ln(t);return null===o||null===e?null:o[0]-e[0]}function M(n,t){return 1===arguments.length?t=>r(t,n):r(t,n)}function c(n,t,e){const o=Rn(n),m=Rn(t);if(null===o||null===m)return null;const i=[o[0]+e*m[0],o[1]+e*m[1]];return zn(Hn(i))}function a(n,t){return 1===arguments.length?t=>a(n,t):c(n,t,1)}function l(n,t){return 1===arguments.length?t=>a(n,t):c(n,t,-1)}function s(n,t){if(1===arguments.length)return t=>s(n,t);const e=Ln(n),o=Ln(t);if(null===e||null===o||e.length!==o.length)return null;const m=1===e.length?[o[0]-e[0],-Math.floor(7*(o[0]-e[0])/12)]:[o[0]-e[0],o[1]-e[1]];return zn(Hn(m))}function f(n,t){if(1===arguments.length)return t=>f(n,t);const o=e(n),m=e(t);return null!==o.midi&&null!==m.midi?m.midi-o.midi:null!==o.chroma&&null!==m.chroma?(m.chroma-o.chroma+12)%12:null}function d(n){return Qn(n.map(U)).sort((n,t)=>Vn(n)>Vn(t))}function p(n){return d(n).filter((n,t,e)=>0===t||n!==e[t-1])}function b(n,t){for(var e=[];t--;e[t]=t+n);return e}function h(n,t){for(var e=[];t--;e[t]=n-t);return e}function A(n,t){return null===n||null===t?[]:n<t?b(n,t-n+1):h(n,n-t+1)}function g(n){if(y(n))return n;if(!Array.isArray(n))return"";var t=[0,0,0,0,0,0,0,0,0,0,0,0];return n.map(dt).forEach(n=>{t[n]=1}),t.join("")}function j(n,t){t=!1!==t;var e=g(n).split("");return bt(e.map(function(n,o){var m=Kn(o,e);return t&&"0"===m[0]?null:m.join("")}))}function y(n){return ht.test(n)}function v(n){return y(n)?bt(n.split("").map(function(n,t){return"1"===n?At[t]:null})):[]}function x(n,t){return 1===arguments.length?t=>x(n,t):g(n)===g(t)}function O(n,t){return((n=pt(n))&pt(t))===n}function $(n,t){return((n=pt(n))|pt(t))===n}function z(n,t){return arguments.length>1?z(n)(t):(n=g(n),function(t){return"1"===n[dt(t)]})}function _(n,t){return 1===arguments.length?t=>_(n,t):t.filter(z(n))}function k(n,t){const e=E(n);return t=t||e[1],_t(t).map(r(e[0]))}function C(n){const t=E(n);return void 0!==vt(t[1])}function E(n){if("string"!=typeof n)return[null,null];const t=n.indexOf(" "),e=U(n.substring(0,t))||U(n),o=null!==e?n.substring(e.length+1):n;return[e,o.length?o:null]}function w(n,t){const e=G(n);return t=t||e[1],It(t).map(r(e[0]))}function q(n){const t=map(pc,n),e=F(t);return e?e.indexOf(t[0]):null}function D(n,t){if(1===arguments.length)return function(t){return D(n,t)};const e=F(t);return e?rotate(n,e):[]}function F(n){const t=permutations(w(n).map(pc));for(let n=0;n<t.length;n++){const e=intervallic(t[n]);if(B(e))return t[n]}return null}function B(n){for(let t=0;t<n.length;t++)if("3"!==n[t][0])return!1;return!0}function G(n){const e=t(n);return e?""===e[0]||"6"!==e[2][0]&&"7"!==e[2][0]?[e[0]+e[1]+e[2],e[3]]:[e[0]+e[1],e[2]+e[3]]:[null,n]}const I=/^([a-gA-G])(#{1,}|b{1,}|x{1,}|)(-?\d*)\s*(.*)\s*$/,T=Object.freeze({pc:null,name:null,step:null,alt:null,oct:null,chroma:null,midi:null}),N=[0,2,4,5,7,9,11],S=n=>{const e=t(n);if(null===e||""!==e[3])return T;const[o,m,i]=e;const r={letter:o,acc:m};r.pc=r.letter+r.acc;r.name=r.pc+i;r.step=(r.letter.charCodeAt(0)+3)%7;r.alt="b"===r.acc[0]?-r.acc.length:r.acc.length;r.oct=i.length?+i:null;r.chroma=(N[r.step]+r.alt+120)%12;r.midi=null!==r.oct?N[r.step]+r.alt+12*(r.oct+1):null;return Object.freeze(r)},L={},R=n=>e(n)!==T,U=n=>e(n).name,H=n=>e(n).pc,J=n=>e(n).midi||+n||null,K=n=>"number"==typeof n?440*Math.pow(2,(n-69)/12):null,Q=n=>K(e(n).midi)||K(n),V=Math.log(2),W=Math.log(440),X=n=>{const t=12*(Math.log(n)-W)/V+69;return Math.round(100*t)/100},Y=n=>e(n).chroma,Z=n=>e(n).oct,nn=n=>e(n).step,tn=n=>e(n).alt,en=n=>"CDEFGAB"[n],on=(n,t)=>Array(t+1).join(n),mn=(n,t)=>"number"!=typeof n?"":t(n),rn=n=>mn(n,n=>n<0?on("b",-n):on("#",n)),un=({step:step,alt:alt,oct:oct})=>{const n=en(step)+rn(alt);return void 0===oct?n:n+oct},Pn="C Db D Eb E F Gb G Ab A Bb B".split(" "),Mn="C C# D D# E F F# G G# A A# B".split(" ");var cn=Object.freeze({tokenize:t,props:e,isNote:R,name:U,pc:H,midi:J,midiToFreq:K,freq:Q,freqToMidi:X,chroma:Y,oct:Z,step:nn,alt:tn,stepToLetter:en,altToAcc:rn,build:un,fromMidi:o});const an=new RegExp("^([-+]?\\d+)(d{1,4}|m|M|P|A{1,4})|(AA|A|P|M|m|d|dd)([-+]?\\d+)$"),ln=[0,2,4,5,7,9,11],sn=[0,1,2,3,4,5,6,5,4,3,2,1],fn=n=>{const t=an.exec(n);return null===t?null:t[1]?[t[1],t[2]]:[t[4],t[3]]},dn=Object.freeze({name:null,num:null,q:null,step:null,alt:null,dir:null,type:null,simple:null,semitones:null,chroma:null,ic:null}),pn=(n,t)=>Array(Math.abs(t)+1).join(n),bn=(n,t)=>{if("M"===t&&"M"===n)return 0;if("P"===t&&"P"===n)return 0;if("m"===t&&"M"===n)return-1;if(/^A+$/.test(t))return t.length;if(/^d+$/.test(t))return"P"===n?-t.length:-t.length-1;return null},hn=(n,t)=>0===t?"M"===n?"M":"P":-1===t&&"M"===n?"m":t>0?pn("A",t):t<0?pn("d","P"===n?t:t+1):null,An=n=>{const t=fn(n);if(null===t)return dn;const e={num:+t[0],q:t[1]};e.step=(Math.abs(e.num)-1)%7;e.type="PMMPPMM"[e.step];if("M"===e.type&&"P"===e.q)return dn;e.name=""+e.num+e.q;e.dir=e.num<0?-1:1;e.simple=8===e.num||-8===e.num?e.num:e.dir*(e.step+1);e.alt=bn(e.type,e.q);e.oct=Math.floor((Math.abs(e.num)-1)/7);e.semitones=e.dir*(ln[e.step]+e.alt+12*e.oct);e.chroma=(e.dir*(ln[e.step]+e.alt)%12+12)%12;e.ic=sn[e.chroma];return Object.freeze(e)},gn={},jn=n=>m(n).num,yn=n=>m(n).name,vn=n=>m(n).type,xn=n=>m(n).semitones,On=n=>m(n).chroma,$n=n=>m(n).ic,zn=({step:step,alt:alt,oct:oct,dir:dir}={})=>{if(void 0===step)return null;const n=dir<0?"-":"";const t=step+1+7*oct;const e="PMMPPMM"[step];return n+t+hn(e,alt)},_n=n=>{const t=m(n);if(t===dn)return null;return t.simple+t.q},kn=n=>{const t=m(n);if(t===dn)return null;const e=(7-t.step)%7;const o="P"===t.type?-t.alt:-(t.alt+1);return zn({step:e,alt:o,oct:t.oct,dir:t.dir})};var Cn=[1,2,2,3,3,4,5,5,6,6,7,7],En="P m M m M P d P m M m M".split(" ");const wn=n=>{var t=n<0?-1:1;var e=Math.abs(n);var o=e%12;var m=Math.floor(e/12);return t*(Cn[o]+7*m)+En[o]};var qn=Object.freeze({tokenize:fn,props:m,num:jn,name:yn,type:vn,semitones:xn,chroma:On,ic:$n,build:zn,simplify:_n,invert:kn,fromSemitones:wn});const Dn=[0,2,4,-1,1,3,5],Fn=n=>Math.floor(7*n/12),Bn=Dn.map(Fn),Gn=({step:step$$1,alt:alt$$1,oct:oct$$1,dir:dir=1})=>{const n=Dn[step$$1]+7*alt$$1;if(null===oct$$1)return[dir*n];const t=oct$$1-Bn[step$$1]-4*alt$$1;return[dir*n,dir*t]},In=[3,0,4,1,5,2,6],Tn=(n,t,e)=>{const o=In[i(n)];const m=Math.floor((n+1)/7);if(void 0===t)return{step:o,alt:m,dir:e};const r=t+4*m+Bn[o];return{step:o,alt:m,oct:r,dir:e}},Nn=(n,t={})=>e=>t[e]||(t[e]=n(e)),Sn=n=>Nn(t=>{const e=n(t);return null===e.name?null:Gn(e)}),Ln=Sn(e),Rn=Sn(m),Un=n=>7*n[0]+12*n[1]<0,Hn=n=>Un(n)?Tn(-n[0],-n[1],-1):Tn(n[0],n[1],1);var Jn=Object.freeze({transpose:r,trFifths:u,fifths:P,transposeBy:M,addIntervals:c,add:a,subtract:l,interval:s,semitones:f});const Kn=(n,t)=>{var e=t.length;var o=(n%e+e)%e;return t.slice(o,e).concat(t.slice(0,o))},Qn=n=>n.filter(n=>0===n||n),Vn=n=>{const t=J(n);return null!==t?t:J(n+"-100")},Wn="major dorian phrygian lydian mixolydian minor locrian ionian aeolian".split(" "),Xn=[0,1,2,3,4,5,6,0,5],Yn="C D E F G A B".split(" "),Zn="Maj7 m7 m7 Maj7 7 m7 m7b5".split(" "),nt=[0,2,4,-1,1,3,5,0,3],tt=n=>Xn[Wn.indexOf(n)],et=n=>!0===n?Wn.slice():Wn.slice(0,7),ot=n=>u("C",n)+" major",mt=(n=4)=>{n=Math.abs(n);const t=[];for(let e=-n;e<=n;e++)t.push(ot(e));return t},it=Object.freeze({name:null,tonic:null,mode:null,modenum:null,intervals:[],scale:[],alteration:null,accidentals:null}),rt=((n,t={})=>e=>t[e]||(t[e]=n(e)))(n=>{const t=st(n);if(null===t[0])return it;const e={tonic:t[0],mode:t[1]};e.name=e.tonic+" "+e.mode;e.modenum=tt(e.mode);const o=Kn(e.modenum,Yn);e.intervals=o.map(s(o[0]));e.scale=e.intervals.map(r(e.tonic));e.alteration=P("C",e.tonic)-nt[Wn.indexOf(e.mode)];e.accidentals=rn(e.alteration);return Object.freeze(e)}),ut=n=>rt(n).scale,Pt=n=>rt(n).alteration,Mt=n=>{const t=rt(n).alteration;if(null===t)return null;return 0===t?[]:t>0?A(1,t).map(u("B")):A(-1,t).map(u("F"))},ct=n=>{const t=rt(n);if(!t.name)return[];const e=Kn(t.modenum,Zn);return t.scale.map((n,t)=>n+e[t])},at=n=>{const t=rt(n);if(!t.name)return[];return t.scale.map(n=>r(n,"P5")+"7")},lt=(n,t)=>{if(1===arguments.length)return t=>lt(n,t);const e=tt(n.toLowerCase());if(void 0===e)return null;const o=rt(t);if(null===o.name)return null;return u(o.tonic,nt[e]-nt[o.modenum])+" "+n},st=n=>{const e=t(n);e[3]=e[3].toLowerCase();if(""===e[0]||-1===Wn.indexOf(e[3]))return[null,null];return[e[0]+e[1],e[3]]};var ft=Object.freeze({modeNames:et,fromAlter:ot,names:mt,props:rt,scale:ut,alteration:Pt,alteredNotes:Mt,chords:ct,secDomChords:at,relative:lt,tokenize:st});const dt=n=>Y(n)||On(n)||0,pt=n=>parseInt(g(n),2),bt=n=>n.filter(n=>n);var ht=/^[01]{12}$/,At="1P 2m 2M 3m 3M 4P 5d 5P 6m 6M 7m 7M".split(" "),gt=Object.freeze({chroma:g,modes:j,isChroma:y,intervals:v,isEqual:x,isSubset:O,isSuperset:$,includes:z,filter:_}),jt={M:["1P 3M 5P",["Major",""]],M13:["1P 3M 5P 7M 9M 13M",["maj13","Maj13"]],M6:["1P 3M 5P 13M",["6"]],M69:["1P 3M 5P 6M 9M",["69"]],M7add13:["1P 3M 5P 6M 7M 9M"],M7b5:["1P 3M 5d 7M"],M7b6:["1P 3M 6m 7M"],M7b9:["1P 3M 5P 7M 9m"],M7sus4:["1P 4P 5P 7M"],M9:["1P 3M 5P 7M 9M",["maj9","Maj9"]],M9b5:["1P 3M 5d 7M 9M"],M9sus4:["1P 4P 5P 7M 9M"],Madd9:["1P 3M 5P 9M",["2","add9","add2"]],Maj7:["1P 3M 5P 7M",["maj7","M7"]],Mb5:["1P 3M 5d"],Mb6:["1P 3M 13m"],Msus2:["1P 2M 5P",["add9no3","sus2"]],Msus4:["1P 4P 5P",["sus","sus4"]],addb9:["1P 3M 5P 9m"],m:["1P 3m 5P"],m11:["1P 3m 5P 7m 9M 11P",["_11"]],m11b5:["1P 3m 7m 12d 2M 4P",["h11","_11b5"]],m13:["1P 3m 5P 7m 9M 11P 13M",["_13"]],m6:["1P 3m 4P 5P 13M",["_6"]],m69:["1P 3m 5P 6M 9M",["_69"]],m7:["1P 3m 5P 7m",["minor7","_","_7"]],m7add11:["1P 3m 5P 7m 11P",["m7add4"]],m7b5:["1P 3m 5d 7m",["half-diminished","h7","_7b5"]],m9:["1P 3m 5P 7m 9M",["_9"]],m9b5:["1P 3m 7m 12d 2M",["h9","-9b5"]],mMaj7:["1P 3m 5P 7M",["mM7","_M7"]],mMaj7b6:["1P 3m 5P 6m 7M",["mM7b6"]],mM9:["1P 3m 5P 7M 9M",["mMaj9","-M9"]],mM9b6:["1P 3m 5P 6m 7M 9M",["mMaj9b6"]],mb6M7:["1P 3m 6m 7M"],mb6b9:["1P 3m 6m 9m"],o:["1P 3m 5d",["mb5","dim"]],o7:["1P 3m 5d 13M",["diminished","m6b5","dim7"]],o7M7:["1P 3m 5d 6M 7M"],oM7:["1P 3m 5d 7M"],sus24:["1P 2M 4P 5P",["sus4add9"]],madd4:["1P 3m 4P 5P"],madd9:["1P 3m 5P 9M"],4:["1P 4P 7m 10m",["quartal"]],5:["1P 5P"],7:["1P 3M 5P 7m",["Dominant","Dom"]],9:["1P 3M 5P 7m 9M",["79"]],11:["1P 5P 7m 9M 11P"],13:["1P 3M 5P 7m 9M 13M",["13_"]],64:["5P 8P 10M"],"M#5":["1P 3M 5A",["augmented","maj#5","Maj#5","+","aug"]],"M#5add9":["1P 3M 5A 9M",["+add9"]],"M13#11":["1P 3M 5P 7M 9M 11A 13M",["maj13#11","Maj13#11","M13+4","M13#4"]],"M6#11":["1P 3M 5P 6M 11A",["M6b5","6#11","6b5"]],"M69#11":["1P 3M 5P 6M 9M 11A"],"M7#11":["1P 3M 5P 7M 11A",["maj7#11","Maj7#11","M7+4","M7#4"]],"M7#5":["1P 3M 5A 7M",["maj7#5","Maj7#5","maj9#5","M7+"]],"M7#5sus4":["1P 4P 5A 7M"],"M7#9#11":["1P 3M 5P 7M 9A 11A"],"M9#11":["1P 3M 5P 7M 9M 11A",["maj9#11","Maj9#11","M9+4","M9#4"]],"M9#5":["1P 3M 5A 7M 9M",["Maj9#5"]],"M9#5sus4":["1P 4P 5A 7M 9M"],"11b9":["1P 5P 7m 9m 11P"],"13#11":["1P 3M 5P 7m 9M 11A 13M",["13+4","13#4"]],"13#9":["1P 3M 5P 7m 9A 13M",["13#9_"]],"13#9#11":["1P 3M 5P 7m 9A 11A 13M"],"13b5":["1P 3M 5d 6M 7m 9M"],"13b9":["1P 3M 5P 7m 9m 13M"],"13b9#11":["1P 3M 5P 7m 9m 11A 13M"],"13no5":["1P 3M 7m 9M 13M"],"13sus4":["1P 4P 5P 7m 9M 13M",["13sus"]],"69#11":["1P 3M 5P 6M 9M 11A"],"7#11":["1P 3M 5P 7m 11A",["7+4","7#4","7#11_","7#4_"]],"7#11b13":["1P 3M 5P 7m 11A 13m",["7b5b13"]],"7#5":["1P 3M 5A 7m",["+7","7aug","aug7"]],"7#5#9":["1P 3M 5A 7m 9A",["7alt","7#5#9_","7#9b13_"]],"7#5b9":["1P 3M 5A 7m 9m"],"7#5b9#11":["1P 3M 5A 7m 9m 11A"],"7#5sus4":["1P 4P 5A 7m"],"7#9":["1P 3M 5P 7m 9A",["7#9_"]],"7#9#11":["1P 3M 5P 7m 9A 11A",["7b5#9"]],"7#9#11b13":["1P 3M 5P 7m 9A 11A 13m"],"7#9b13":["1P 3M 5P 7m 9A 13m"],"7add6":["1P 3M 5P 7m 13M",["67","7add13"]],"7b13":["1P 3M 7m 13m"],"7b5":["1P 3M 5d 7m"],"7b6":["1P 3M 5P 6m 7m"],"7b9":["1P 3M 5P 7m 9m"],"7b9#11":["1P 3M 5P 7m 9m 11A",["7b5b9"]],"7b9#9":["1P 3M 5P 7m 9m 9A"],"7b9b13":["1P 3M 5P 7m 9m 13m"],"7b9b13#11":["1P 3M 5P 7m 9m 11A 13m",["7b9#11b13","7b5b9b13"]],"7no5":["1P 3M 7m"],"7sus4":["1P 4P 5P 7m",["7sus"]],"7sus4b9":["1P 4P 5P 7m 9m",["susb9","7susb9","7b9sus","7b9sus4","phryg"]],"7sus4b9b13":["1P 4P 5P 7m 9m 13m",["7b9b13sus4"]],"9#11":["1P 3M 5P 7m 9M 11A",["9+4","9#4","9#11_","9#4_"]],"9#11b13":["1P 3M 5P 7m 9M 11A 13m",["9b5b13"]],"9#5":["1P 3M 5A 7m 9M",["9+"]],"9#5#11":["1P 3M 5A 7m 9M 11A"],"9b13":["1P 3M 7m 9M 13m"],"9b5":["1P 3M 5d 7m 9M"],"9no5":["1P 3M 7m 9M"],"9sus4":["1P 4P 5P 7m 9M",["9sus"]],"m#5":["1P 3m 5A",["m+","mb6"]],"m11A 5":["1P 3m 6m 7m 9M 11P"],"m7#5":["1P 3m 6m 7m"],"m9#5":["1P 3m 6m 7m 9M"],"+add#9":["1P 3M 5A 9A"]};const yt=n=>{const t=Object.keys(n).sort();const e=[];const o=[];const m=(n,t,m)=>{e[n]=t;o[m]=o[m]||[];o[m].push(n)};t.forEach(t=>{const e=n[t][0].split(" ");const o=n[t][1];const i=g(e);m(t,e,i);o&&o.forEach(n=>m(n,e,i))});const i=Object.keys(e).sort();const r=n=>e[n];r.names=(n=>"string"==typeof n?(o[n]||[]).slice():(!0===n?i:t).slice());return r},vt=yt({chromatic:["1P 2m 2M 3m 3M 4P 4A 5P 6m 6M 7m 7M"],lydian:["1P 2M 3M 4A 5P 6M 7M"],major:["1P 2M 3M 4P 5P 6M 7M",["ionian"]],mixolydian:["1P 2M 3M 4P 5P 6M 7m",["dominant"]],dorian:["1P 2M 3m 4P 5P 6M 7m"],aeolian:["1P 2M 3m 4P 5P 6m 7m",["minor"]],phrygian:["1P 2m 3m 4P 5P 6m 7m"],locrian:["1P 2m 3m 4P 5d 6m 7m"],altered:["1P 2m 3m 3M 5d 6m 7m",["super locrian","diminished whole tone","pomeroy"]],iwato:["1P 2m 4P 5d 7m"],hirajoshi:["1P 2M 3m 5P 6m"],kumoijoshi:["1P 2m 4P 5P 6m"],pelog:["1P 2m 3m 5P 6m"],prometheus:["1P 2M 3M 4A 6M 7m"],ritusen:["1P 2M 4P 5P 6M"],scriabin:["1P 2m 3M 5P 6M"],piongio:["1P 2M 4P 5P 6M 7m"],augmented:["1P 2A 3M 5P 5A 7M"],neopolitan:["1P 2m 3m 4P 5P 6m 7M"],diminished:["1P 2M 3m 4P 5d 6m 6M 7M"],egyptian:["1P 2M 4P 5P 7m"],oriental:["1P 2m 3M 4P 5d 6M 7m"],spanish:["1P 2m 3M 4P 5P 6m 7m",["phrygian major"]],flamenco:["1P 2m 3m 3M 4A 5P 7m"],balinese:["1P 2m 3m 4P 5P 6m 7M"],persian:["1P 2m 3M 4P 5d 6m 7M"],bebop:["1P 2M 3M 4P 5P 6M 7m 7M"],enigmatic:["1P 2m 3M 5d 6m 7m 7M"],ichikosucho:["1P 2M 3M 4P 5d 5P 6M 7M"],"melodic minor":["1P 2M 3m 4P 5P 6M 7M"],"melodic minor second mode":["1P 2m 3m 4P 5P 6M 7m"],"lydian augmented":["1P 2M 3M 4A 5A 6M 7M"],"lydian dominant":["1P 2M 3M 4A 5P 6M 7m",["lydian b7"]],"melodic minor fifth mode":["1P 2M 3M 4P 5P 6m 7m",["hindu","mixolydian b6M"]],"locrian #2":["1P 2M 3m 4P 5d 6m 7m"],"locrian major":["1P 2M 3M 4P 5d 6m 7m",["arabian"]],"major pentatonic":["1P 2M 3M 5P 6M",["pentatonic"]],"lydian pentatonic":["1P 3M 4A 5P 7M",["chinese"]],"mixolydian pentatonic":["1P 3M 4P 5P 7m",["indian"]],"locrian pentatonic":["1P 3m 4P 5d 7m",["minor seven flat five pentatonic"]],"minor pentatonic":["1P 3m 4P 5P 7m"],"minor six pentatonic":["1P 3m 4P 5P 6M"],"minor hexatonic":["1P 2M 3m 4P 5P 7M"],"flat three pentatonic":["1P 2M 3m 5P 6M",["kumoi"]],"flat six pentatonic":["1P 2M 3M 5P 6m"],"major flat two pentatonic":["1P 2m 3M 5P 6M"],"whole tone pentatonic":["1P 3M 5d 6m 7m"],"ionian pentatonic":["1P 3M 4P 5P 7M"],"lydian #5P pentatonic":["1P 3M 4A 5A 7M"],"lydian dominant pentatonic":["1P 3M 4A 5P 7m"],"minor #7M pentatonic":["1P 3m 4P 5P 7M"],"super locrian pentatonic":["1P 3m 4d 5d 7m"],"in-sen":["1P 2m 4P 5P 7m"],"vietnamese 1":["1P 3m 4P 5P 6m"],"vietnamese 2":["1P 3m 4P 5P 7m"],"prometheus neopolitan":["1P 2m 3M 4A 6M 7m"],"major blues":["1P 2M 3m 3M 5P 6M"],"minor blues":["1P 3m 4P 5d 5P 7m",["blues"]],"composite blues":["1P 2M 3m 3M 4P 5d 5P 6M 7m"],"augmented heptatonic":["1P 2A 3M 4P 5P 5A 7M"],"dorian #4":["1P 2M 3m 4A 5P 6M 7m"],"lydian diminished":["1P 2M 3m 4A 5P 6M 7M"],"whole tone":["1P 2M 3M 4A 5A 7m"],"leading whole tone":["1P 2M 3M 4A 5A 7m 7M"],"harmonic minor":["1P 2M 3m 4P 5P 6m 7M"],"lydian minor":["1P 2M 3M 4A 5P 6m 7m"],"neopolitan minor":["1P 2m 3m 4P 5P 6m 7M"],"neopolitan major":["1P 2m 3m 4P 5P 6M 7M",["dorian b2"]],"neopolitan major pentatonic":["1P 3M 4P 5d 7m"],"romanian minor":["1P 2M 3m 5d 5P 6M 7m"],"double harmonic lydian":["1P 2m 3M 4A 5P 6m 7M"],"harmonic major":["1P 2M 3M 4P 5P 6m 7M"],"double harmonic major":["1P 2m 3M 4P 5P 6m 7M",["gypsy"]],"hungarian minor":["1P 2M 3m 4A 5P 6m 7M"],"hungarian major":["1P 2A 3M 4A 5P 6M 7m"],"spanish heptatonic":["1P 2m 3m 3M 4P 5P 6m 7m"],"todi raga":["1P 2m 3m 4A 5P 6m 7M"],"malkos raga":["1P 3m 4P 6m 7m"],"kafi raga":["1P 3m 3M 4P 5P 6M 7m 7M"],"purvi raga":["1P 2m 3M 4P 4A 5P 6m 7M"],"bebop dominant":["1P 2M 3M 4P 5P 6M 7m 7M"],"bebop minor":["1P 2M 3m 3M 4P 5P 6M 7m"],"bebop major":["1P 2M 3M 4P 5P 5A 6M 7M"],"bebop locrian":["1P 2m 3m 4P 5d 5P 6m 7m"],"minor bebop":["1P 2M 3m 4P 5P 6m 7m 7M"],"mystery #1":["1P 2m 3M 5d 6m 7m"],"minor six diminished":["1P 2M 3m 4P 5P 6m 6M 7M"],"ionian augmented":["1P 2M 3M 4P 5A 6M 7M"],"lydian #9":["1P 2m 3M 4A 5P 6M 7M"],"six tone symmetric":["1P 2m 3M 4P 5A 6M"]}),xt=yt(jt),Ot=Object.freeze({name:null,intervals:[],names:[],chroma:null,setnum:null}),$t=((n,t)=>e=>t[e]||(t[e]=n(e)))(n=>{const t=vt(n);if(!t)return Ot;const e={intervals:t,name:n};e.chroma=g(t);e.setnum=parseInt(e.chroma,2);e.names=vt.names(e.chroma);return Object.freeze(e)},{}),zt=vt.names,_t=n=>{const t=E(n);return $t(t[1]).intervals},kt=n=>{const t=_t(n);return j(t).map(n=>vt.names(n)[0])},Ct=n=>{const t=_t(n);return xt.names().filter(n=>O(xt(n),t))},Et=n=>{const t=Qn(n.map(H));if(!t.length)return t;const e=t[0];const o=p(t);return Kn(o.indexOf(e),o)},wt=n=>{const t=_t(n);if(!t.length)return[];return vt.names().filter(n=>$(vt(n),t))},qt=n=>{n=Et(n);const t=j(n);if(t.length<2)throw Error("It should have at least two notes");const e=[];zt().forEach(o=>{const m=$t(o);t.forEach((t,i)=>{O(t,m.chroma)&&e.push([n[i],o])})});return e};var Dt=Object.freeze({props:$t,names:zt,intervals:_t,notes:k,exists:C,tokenize:E,modeNames:kt,chords:Ct,toScale:Et,extensions:wt,detect:qt});const Ft=xt.names,Bt=Object.freeze({name:null,names:[],intervals:[],chroma:null,setnum:null}),Gt=((n,t={})=>e=>t[e]||(t[e]=n(e)))(n=>{const t=xt(n);if(!t)return Bt;const e={intervals:t,name:n};e.chroma=g(t);e.setnum=parseInt(e.chroma,2);e.names=xt.names(e.chroma);return e}),It=n=>Gt(G(n)[1]).intervals,Tt=n=>void 0!==xt(G(n)[1]);var Nt=Object.freeze({names:Ft,props:Gt,intervals:It,notes:w,exists:Tt,position:q,inversion:D,tokenize:G});n.note=cn,n.interval=qn,n.distance=Jn,n.key=ft,n.scale=Dt,n.chord=Nt,n.pcset=gt,Object.defineProperty(n,"__esModule",{value:!0})});
//# sourceMappingURL=tonal.min.js.map

(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){var tonal={};tonal.notation=require("tonal.notation");tonal.pitch=require("tonal.pitch");tonal.transpose=require("tonal.transpose");tonal.distance=require("tonal.distance");tonal.note=require("tonal.note");tonal.gamut=require("tonal.gamut");tonal.set=require("tonal.set");tonal.scale=require("tonal.scale");tonal.chord=require("tonal.chord");tonal.key=require("tonal.key");if(typeof module==="object"&&module.exports)module.exports=tonal;if(typeof window!=="undefined")window.tonal=tonal},{"tonal.chord":6,"tonal.distance":13,"tonal.gamut":17,"tonal.key":28,"tonal.notation":35,"tonal.note":53,"tonal.pitch":60,"tonal.scale":69,"tonal.set":77,"tonal.transpose":79}],2:[function(require,module,exports){var harmonics=require("tonal.gamut/harmonics");var transpose=require("tonal.transpose");module.exports=function(notes,tonic){var h=harmonics(notes);return h.map(transpose(tonic))}},{"tonal.gamut/harmonics":16,"tonal.transpose":79}],3:[function(require,module,exports){"use strict";var chords=require("./dictionary");var dictionary=require("tonal.dictionary");module.exports=dictionary.getter(chords)},{"./dictionary":5,"tonal.dictionary":11}],4:[function(require,module,exports){module.exports={4:["1 4 7b 10m",["quartal"]],5:["1 5"],7:["1 3 5 7b",["Dominant","7_"]],9:["1 3 5 7b 9",["9_"]],11:["1 5 7b 9 11"],13:["1 3 5 7b 9 13",["13_"]],"11b9":["1 5 7b 9b 11"],"13#11":["1 3 5 7b 9 11# 13",["13+4","13#4","13#11_","13#4_"]],"13#9":["1 3 5 7b 9# 13",["13#9_"]],"13#9#11":["1 3 5 7b 9# 11# 13"],"13b5":["1 3 5d 6 7b 9"],"13b9":["1 3 5 7b 9b 13"],"13b9#11":["1 3 5 7b 9b 11# 13"],"13no5":["1 3 7b 9 13"],"13sus4":["1 4 5 7b 9 13",["13sus"]],"69#11":["1 3 5 6 9 11#"],"7#11":["1 3 5 7b 11#",["7+4","7#4","7#11_","7#4_"]],"7#11b13":["1 3 5 7b 11# 13b",["7b5b13"]],"7#5":["1 3 5A 7b",["+7","7+","7aug","aug7"]],"7#5#9":["1 3 5A 7b 9#",["7alt","7#5#9_","7#9b13_"]],"7#5b9":["1 3 5A 7b 9b"],"7#5b9#11":["1 3 5A 7b 9b 11#"],"7#5sus4":["1 4 5A 7b"],"7#9":["1 3 5 7b 9#",["7#9_"]],"7#9#11":["1 3 5 7b 9# 11#",["7b5#9"]],"7#9#11b13":["1 3 5 7b 9# 11# 13b"],"7#9b13":["1 3 5 7b 9# 13b"],"7add6":["1 3 5 7b 13",["67","7add13"]],"7b13":["1 3 7b 13b"],"7b5":["1 3 5d 7b"],"7b6":["1 3 5 6b 7b"],"7b9":["1 3 5 7b 9b"],"7b9#11":["1 3 5 7b 9b 11#",["7b5b9"]],"7b9#9":["1 3 5 7b 9b 9#"],"7b9b13":["1 3 5 7b 9b 13b"],"7b9b13#11":["1 3 5 7b 9b 11# 13b",["7b9#11b13","7b5b9b13"]],"7no5":["1 3 7b"],"7sus4":["1 4 5 7b",["7sus"]],"7sus4b9":["1 4 5 7b 9b",["susb9","7susb9","7b9sus","7b9sus4","phryg"]],"7sus4b9b13":["1 4 5 7b 9b 13b",["7b9b13sus4"]],"9#11":["1 3 5 7b 9 11#",["9+4","9#4","9#11_","9#4_"]],"9#11b13":["1 3 5 7b 9 11# 13b",["9b5b13"]],"9#5":["1 3 5A 7b 9",["9+"]],"9#5#11":["1 3 5A 7b 9 11#"],"9b13":["1 3 7b 9 13b"],"9b5":["1 3 5d 7b 9"],"9no5":["1 3 7b 9"],"9sus4":["1 4 5 7b 9",["9sus"]],Blues:["1 3b 4 5d 5 7b"],M:["1 3 5",["Major",""]],"M#5":["1 3 5A",["augmented","maj#5","Maj#5","+","aug"]],"M#5add9":["1 3 5A 9",["+add9"]],M13:["1 3 5 7 9 13",["maj13","Maj13"]],"M13#11":["1 3 5 7 9 11# 13",["maj13#11","Maj13#11","M13+4","M13#4"]],M6:["1 3 5 13",["6"]],"M6#11":["1 3 5 6 11#",["M6b5","6#11","6b5"]],M69:["1 3 5 6 9",["69"]],"M69#11":["1 3 5 6 9 11#"],"M7#11":["1 3 5 7 11#",["maj7#11","Maj7#11","M7+4","M7#4"]],"M7#5":["1 3 5A 7",["maj7#5","Maj7#5","maj9#5","M7+"]],"M7#5sus4":["1 4 5A 7"],"M7#9#11":["1 3 5 7 9# 11#"],M7add13:["1 3 5 6 7 9"],M7b5:["1 3 5d 7"],M7b6:["1 3 6b 7"],M7b9:["1 3 5 7 9b"],M7sus4:["1 4 5 7"],M9:["1 3 5 7 9",["maj9","Maj9"]],"M9#11":["1 3 5 7 9 11#",["maj9#11","Maj9#11","M9+4","M9#4"]],"M9#5":["1 3 5A 7 9",["Maj9#5"]],"M9#5sus4":["1 4 5A 7 9"],M9b5:["1 3 5d 7 9"],M9sus4:["1 4 5 7 9"],Madd9:["1 3 5 9",["2","add9","add2"]],Maj7:["1 3 5 7",["maj7","M7"]],Mb5:["1 3 5d"],Mb6:["1 3 13b"],Msus2:["1 2M 5",["add9no3","sus2"]],Msus4:["1 4 5",["sus","sus4"]],addb9:["1 3 5 9b"],m:["1 3b 5",["minor"]],"m#5":["1 3b 5A",["m+","mb6"]],m11:["1 3b 5 7b 9 11",["-11"]],"m11#5":["1 3b 6b 7b 9 11"],m11b5:["1 3b 7b 12d 2M 4",["h11","-11b5"]],m13:["1 3b 5 7b 9 11 13",["-13"]],m6:["1 3b 4 5 13",["-6"]],m69:["1 3b 5 6 9",["-69"]],m7:["1 3b 5 7b",["minor7","-","-7"]],"m7#5":["1 3b 6b 7b"],m7add11:["1 3b 5 7b 11",["m7add4"]],m7b5:["1 3b 5d 7b",["half-diminished","h7","-7b5"]],m9:["1 3b 5 7b 9",["-9"]],"m9#5":["1 3b 6b 7b 9"],m9b5:["1 3b 7b 12d 2M",["h9","-9b5"]],mM7:["1 3b 5 7",["mMaj7","-M7"]],mM7b6:["1 3b 5 6b 7",["mMaj7b6"]],mM9:["1 3b 5 7 9",["mMaj9","-M9"]],mM9b6:["1 3b 5 6b 7 9",["mMaj9b6"]],madd4:["1 3b 4 5"],madd9:["1 3b 5 9"],mb6M7:["1 3b 6b 7"],mb6b9:["1 3b 6b 9b"],o:["1 3b 5d",["mb5","dim"]],o7:["1 3b 5d 13",["diminished","m6b5","dim7"]],o7M7:["1 3b 5d 6 7"],oM7:["1 3b 5d 7"],sus24:["1 2M 4 5",["sus4add9"]],"+add#9":["1 3 5A 9#"]}},{}],5:[function(require,module,exports){"use strict";var data=require("./chords.json");var dictionary=require("tonal.dictionary");module.exports=dictionary(data)},{"./chords.json":4,"tonal.dictionary":11}],6:[function(require,module,exports){"use strict";var chord=require("./chord");chord.build=require("./build");chord.names=require("./names");chord.type=require("./type");if(typeof module==="object"&&module.exports)module.exports=chord;if(typeof window!=="undefined")window.chord=chord},{"./build":2,"./chord":3,"./names":7,"./type":8}],7:[function(require,module,exports){"use strict";var names=require("tonal.dictionary/names");var chords=require("./dictionary");module.exports=names(chords,"")},{"./dictionary":5,"tonal.dictionary/names":12}],8:[function(require,module,exports){"use strict";var harmonics=require("tonal.gamut/harmonics");module.exports=function(chord){var g=harmonics(chord);var steps=g.map(function(i){return i.charAt(0)});if(steps[0]!=="1"||steps[1]!=="3"||steps[2]!=="5")return null;if(g[1]==="3M"){if(g[2]==="5A")return"aug";else return g[3]==="7m"?"7":"M"}else if(g[1]==="3m")return g[2]==="5P"?"m":"dim";return null}},{"tonal.gamut/harmonics":16}],9:[function(require,module,exports){"use strict";var binary=require("tonal.set/binary");module.exports=function(src){function dict(key){return dict.data[key]}dict.source=src;dict.names=Object.keys(src);dict.aliases=dict.names.slice();dict.data={};dict.names.forEach(function(n){var s={name:n,intervals:src[n][0].split(" "),aliases:src[n][1]||[]};s.binary=binary(s.intervals);s.decimal=parseInt(s.binary,2);dict.data[n]=dict.data[s.binary]=dict.data[s.decimal]=s;s.aliases.forEach(function(a){dict.aliases.push(a);dict.data[a]=s})},{});dict.source=src;return dict}},{"tonal.set/binary":75}],10:[function(require,module,exports){"use strict";var dictionary=require("./dictionary");var transpose=require("tonal.transpose");var split=require("tonal.notation/note.split");module.exports=function(d){var dict=typeof d==="function"?d:dictionary(d);return function get(name,tonic){var v=dict(name);if(!v){var n=split(name);v=n?dict(n[5]):null;if(!v)return[];tonic=tonic===false?tonic:tonic||n[1]+n[2]+n[3]}if(tonic!==false&&!tonic)return function(t){return get(name,t)};return v.intervals.map(transpose(tonic))}}},{"./dictionary":9,"tonal.notation/note.split":41,"tonal.transpose":79}],11:[function(require,module,exports){"use strict";var d=require("./dictionary");d.getter=require("./getter");d.names=require("./names");module.exports=d},{"./dictionary":9,"./getter":10,"./names":12}],12:[function(require,module,exports){"use strict";var dictionary=require("./dictionary");var binary=require("tonal.set/binary");var split=require("tonal.gamut/split");module.exports=function(d,sep){var dict=typeof d==="function"?d:dictionary(d);sep=sep||"";return function(notes){if(arguments.length===0||notes===false)return dict.names.slice();else if(notes===true)return dict.aliases.slice();var s=dict(binary(notes));if(!s)return[];var tonic=split(notes)[0];return[s.name].concat(s.aliases).map(function(name){return tonic+sep+name})}}},{"./dictionary":9,"tonal.gamut/split":24,"tonal.set/binary":75}],13:[function(require,module,exports){var operation=require("tonal.pitch/operation");module.exports=operation(function(a,b){if(!Array.isArray(a)||!Array.isArray(b))return null;if(a.length===1||b.length===1){var base=b[0]-a[0];return[base,-Math.floor(base*7/12)]}return[b[0]-a[0],b[1]-a[1]]})},{"tonal.pitch/operation":61}],14:[function(require,module,exports){"use strict";var transpose=require("tonal.transpose");var harmonics=require("./harmonics");module.exports=function(notes,tonic){var h=harmonics(notes);return h.map(transpose(tonic))}},{"./harmonics":16,"tonal.transpose":79}],15:[function(require,module,exports){"use strict";var split=require("./split");var pitch=require("tonal.pitch/pitch");module.exports=function(g){return split(g).map(pitch)}},{"./split":24,"tonal.pitch/pitch":63}],16:[function(require,module,exports){var operation=require("./operation");var distance=require("tonal.distance");module.exports=operation(function(gamut){var tonic=gamut[0];return gamut.map(distance(tonic))})},{"./operation":18,"tonal.distance":13}],17:[function(require,module,exports){"use strict";var gamut=require("./gamut");gamut.set=require("./set");gamut.scale=require("./scale");gamut.chord=require("./chord");gamut.sort=require("./sort");gamut.harmonics=require("./harmonics");gamut.operation=require("./operation");gamut.split=require("./split");gamut.rotate=require("./rotate");gamut.select=require("./select");if(typeof module==="object"&&module.exports)module.exports=gamut;if(typeof window!=="undefined")window.gamut=gamut},{"./chord":14,"./gamut":15,"./harmonics":16,"./operation":18,"./rotate":19,"./scale":20,"./select":21,"./set":22,"./sort":23,"./split":24}],18:[function(require,module,exports){var split=require("./split");var parse=require("tonal.pitch/parse");var str=require("tonal.pitch/str");module.exports=function op(fn,source){if(arguments.length>1)return op(fn)(source);return function(source){var g=split(source);if(Array.isArray(g[0]))return fn(g);var v=fn(g.map(parse));return Array.isArray(v)?v.map(str):v}}},{"./split":24,"tonal.pitch/parse":62,"tonal.pitch/str":65}],19:[function(require,module,exports){"use strict";var split=require("./split");module.exports=function(count,source){var g=split(source);var len=g.length;var n=(count%len+len)%len;return g.slice(n,len).concat(g.slice(0,n))}},{"./split":24}],20:[function(require,module,exports){"use strict";var transpose=require("tonal.transpose");var operation=require("./operation");var harmonics=require("./harmonics");var split=require("./split");var set=require("./set");module.exports=function b(notes,tonic){if(arguments.length===1)return function(t){return b(notes,t)};notes=split(notes);var len=notes.length;if(len===0)return[];var intervals=operation(function(gamut){tonic=!tonic&&tonic!==false?gamut[0]:tonic;var s=set(gamut);var i=indexOf(gamut[0][0],s,len);var ordered=s.slice(i,len).concat(s.slice(0,i));return harmonics(ordered)},notes);tonic=!tonic&&tonic!==false?notes[0]:tonic;return intervals.map(transpose(tonic))};function indexOf(p,g,l){for(var i=0;i<l;i++){if(g[i][0]===p)return i}}},{"./harmonics":16,"./operation":18,"./set":22,"./split":24,"tonal.transpose":79}],21:[function(require,module,exports){"use strict";var split=require("./split");module.exports=function s(nums,gamut){if(arguments.length===1)return function(g){return s(nums,g)};var g=split(gamut);return split(nums).map(function(n){return g[n-1]})}},{"./split":24}],22:[function(require,module,exports){"use strict";var simplify=require("tonal.pitch/simplify");var operation=require("./operation");var sort=require("./sort");module.exports=operation(function(notes){var sorted=sort(notes.map(simplify));return sorted.reduce(function(uniq,value,index){if(index===0||!equal(sorted[index-1],value))uniq.push(value);return uniq},[])});function equal(a,b){return a[0]===b[0]&&a[1]===b[1]}},{"./operation":18,"./sort":23,"tonal.pitch/simplify":64}],23:[function(require,module,exports){"use strict";var height=require("tonal.pitch/height");var operation=require("./operation");module.exports=operation(function(gamut){return gamut.sort(function(a,b){return height(a)-height(b)})})},{"./operation":18,"tonal.pitch/height":59}],24:[function(require,module,exports){"use strict";var SEP=/\s*\|\s*|\s*,\s*|\s+/;module.exports=function(source){if(Array.isArray(source))return source;else if(typeof source==="string")return source.trim().split(SEP);else if(source===null||typeof source==="undefined")return[];else return[source]}},{}],25:[function(require,module,exports){"use strict";var alterations=require("./alterations");var transpose=require("tonal.transpose");module.exports=function(k){var a=alterations(k);if(a===null)return null;var notes=[];var tonic=a>0?"B":"F";var interval=a>0?[1,0]:[-1,0];var l=Math.abs(a);for(var i=0;i<l;i++){tonic=transpose(tonic,interval);notes.push(tonic)}return notes}},{"./alterations":26,"tonal.transpose":79}],26:[function(require,module,exports){"use strict";var relative=require("./relative");var distance=require("tonal.distance");var parse=require("tonal.notation/interval.parse");module.exports=function(key){var k=relative("major",key);return k?parse(distance("C",k.split(" ")[0]))[0]:null}},{"./relative":32,"tonal.distance":13,"tonal.notation/interval.parse":37}],27:[function(require,module,exports){"use strict";var scale=require("./scale");var chord=require("tonal.scale/chord");var modes=require("tonal.scale/modes");module.exports=function(k){return modes(scale(k)).map(function(s){return chord(s)})}},{"./scale":33,"tonal.scale/chord":67,"tonal.scale/modes":70}],28:[function(require,module,exports){"use strict";var key=require("./key");key.alterations=require("./alterations");key.altNotes=require("./altNotes");key.chords=require("./chords");key.parse=require("./parse");key.progression=require("./progression");key.relative=require("./relative");key.scale=require("./scale");key.signature=require("./signature");module.exports=key},{"./altNotes":25,"./alterations":26,"./chords":27,"./key":29,"./parse":30,"./progression":31,"./relative":32,"./scale":33,"./signature":34}],29:[function(require,module,exports){"use strict";var parse=require("./parse");var transpose=require("tonal.transpose");var REGEX=/^#{1,7}|b{1,7}$/;module.exports=function(str){if(/^-?\d$/.exec(str)){return major(+str)}else if(REGEX.exec(str)){var dir=str[0]==="b"?-1:1;return major(str.length*dir)}else{var p=parse(str);return p?p.tonic+" "+p.mode:null}};function major(n){return transpose("C",[n,0])+" major"}},{"./parse":30,"tonal.transpose":79}],30:[function(require,module,exports){"use strict";var note=require("tonal.notation/note");var KEYS={major:1,minor:6,ionian:1,dorian:2,phrygian:3,lydian:4,mixolydian:5,aeolian:6,locrian:7};module.exports=function(name){var m,s,t;if(!name)return null;s=name.trim().split(/\s+/);t=note(s[0]);if(s.length===1){m=s[0].toLowerCase();if(KEYS[m])return k(null,m);else if(t)return k(t,"major");else return null}m=s[1].toLowerCase();if(t&&KEYS[m])return k(t,m);return null};function k(t,m){return{tonic:t||false,mode:m,dist:KEYS[m]}}},{"tonal.notation/note":39}],31:[function(require,module,exports){"use strict";var split=require("tonal.gamut/split");var roman=require("tonal.notation/roman.parse");var interval=require("tonal.notation/interval.parse");var parse=require("./parse");var chords=require("./chords");var scale=require("./scale");module.exports=function(numerals,key){var k=parse(key);if(!k||!k.tonic)return null;var s=scale(k.mode).map(interval);var c=chords(key);var degrees=split(numerals).map(roman);return degrees.map(function(d){var i=indexOf(d[0],s);return i<0?null:c[i]})};function indexOf(v,s){for(var i=0;i<7;i++){if(s[i][0]===v)return i}return-1}},{"./chords":27,"./parse":30,"./scale":33,"tonal.gamut/split":24,"tonal.notation/interval.parse":37,"tonal.notation/roman.parse":46}],32:[function(require,module,exports){"use strict";var parse=require("./parse");var transpose=require("tonal.transpose");module.exports=function(rel,key){var k=parse(key);var r=parse(rel);if(!k||!k.tonic||!r)return null;var major=k.mode==="major"?k.tonic:transpose(k.tonic,"-"+k.dist);return r.mode==="major"?major+" major":transpose(major,""+r.dist)+" "+rel}},{"./parse":30,"tonal.transpose":79}],33:[function(require,module,exports){"use strict";var set=require("tonal.set/fromBinary");var key=require("./parse");var SCALES=[2773,2902,3418,2741,2774,2906,3434];module.exports=function(name){var k=key(name);if(!k)return[];return set(SCALES[k.dist-1],k.tonic)}},{"./parse":30,"tonal.set/fromBinary":76}],34:[function(require,module,exports){"use strict";var alterations=require("./alterations");module.exports=function(key){var n=alterations(key);return n!==null?new Array(Math.abs(n)+1).join(n<0?"b":"#"):null}},{"./alterations":26}],35:[function(require,module,exports){"use strict";var nn={};nn.note=require("./note");nn.note.split=require("./note.split");nn.note.parse=require("./note.parse");nn.note.str=require("./note.str");nn.interval=require("./interval");nn.interval.parse=require("./interval.parse");nn.interval.str=require("./interval.str");nn.roman={};nn.roman.split=require("./roman.split");nn.roman.parse=require("./roman.parse");nn.parser=require("./parser");nn.props=require("./props");nn.props.coord=require("./props.coord");module.exports=nn},{"./interval":36,"./interval.parse":37,"./interval.str":38,"./note":39,"./note.parse":40,"./note.split":41,"./note.str":42,"./parser":43,"./props":45,"./props.coord":44,"./roman.parse":46,"./roman.split":47}],36:[function(require,module,exports){"use strict";var parse=require("./interval.parse");var str=require("./interval.str");module.exports=function(n){return str(parse(n))}},{"./interval.parse":37,"./interval.str":38}],37:[function(require,module,exports){"use strict";var parser=require("./parser");var ptc=require("./props.coord");var INTERVAL=/^([-+]?)(\d+)(d{1,4}|m|M|P|A{1,4}|b{1,4}|#{1,4}|)$/;var TYPES="PMMPPMM";var QALT={P:{dddd:-4,ddd:-3,dd:-2,d:-1,P:0,A:1,AA:2,AAA:3,AAAA:4},M:{ddd:-4,dd:-3,d:-2,m:-1,M:0,A:1,AA:2,AAA:3,AAAA:4}};module.exports=parser(function(str){var m=INTERVAL.exec(str);if(!m)return null;var dir=m[1]==="-"?-1:1;var num=+m[2]-1;var simple=num%7;var alt;if(m[3]==="")alt=0;else if(m[3][0]==="#")alt=m[3].length;else if(m[3][0]==="b")alt=-m[3].length;else{alt=QALT[TYPES[simple]][m[3]];if(typeof alt==="undefined")return null}var oct=Math.floor(num/7);return ptc([simple,alt,oct,dir])})},{"./parser":43,"./props.coord":44}],38:[function(require,module,exports){"use strict";var props=require("./props");var cache={};module.exports=function(arr){if(!Array.isArray(arr)||arr.length!==2)return null;var str="|"+arr[0]+"|"+arr[1];return str in cache?cache[str]:cache[str]=build(arr)};var ALTER={P:["dddd","ddd","dd","d","P","A","AA","AAA","AAAA"],M:["ddd","dd","d","m","M","A","AA","AAA","AAAA"]};var TYPES="PMMPPMM";function build(coord){var p=props(coord);var t=TYPES[p[0]];var dir,num,alt;if(p[2]<0){dir=-1;num=8-p[0]-7*(p[2]+1);alt=t==="P"?-p[1]:-(p[1]+1)}else{dir=1;num=p[0]+1+7*p[2];alt=p[1]}var q=ALTER[t][4+alt];return dir*num+q}},{"./props":45}],39:[function(require,module,exports){"use strict";var parse=require("./note.parse");var str=require("./note.str");module.exports=function(n){return str(parse(n))}},{"./note.parse":40,"./note.str":42}],40:[function(require,module,exports){"use strict";var parser=require("./parser");var split=require("./note.split");var BASES={C:[0,0],D:[2,-1],E:[4,-2],F:[-1,1],G:[1,0],A:[3,-1],B:[5,-2]};module.exports=parser(function(str){var m=split(str);if(!m||m[5])return null;var base=BASES[m[1].toUpperCase()];var alt=m[2].replace(/x/g,"##").length;if(m[2][0]==="b")alt*=-1;var fifths=base[0]+7*alt;if(!m[3])return[fifths];var oct=+m[3]+base[1]-4*alt;var dur=m[4]?+m[4].substring(1):null;return[fifths,oct,dur]})},{"./note.split":41,"./parser":43}],41:[function(require,module,exports){"use strict";var R=/^([a-gA-G])(#{1,}|b{1,}|x{1,}|)(-?\d*)(\/\d+|)\s*(.*)\s*$/;module.exports=function(s){return R.exec(s)}},{}],42:[function(require,module,exports){"use strict";var props=require("./props");var cache={};module.exports=function(arr){if(!Array.isArray(arr)||arr.length<1||arr.length===2)return null;var str="|"+arr[0]+"|"+arr[1]+"|"+arr[2];return str in cache?cache[str]:cache[str]=build(arr)};function accidentals(num){if(num<0)return Array(-num+1).join("b");else if(num>0)return Array(num+1).join("#");else return""}var LETTER=["C","D","E","F","G","A","B"];function build(coord){var p=props(coord);return LETTER[p[0]]+accidentals(p[1])+(p[2]!==null?p[2]:"")+(p[3]!==null?"/"+p[3]:"")}},{"./props":45}],43:[function(require,module,exports){"use strict";module.exports=function(fn){var cache={};return function(str){if(typeof str!=="string")return null;return str in cache?cache[str]:cache[str]=fn(str)}}},{}],44:[function(require,module,exports){"use strict";var BASES=[[0,0],[2,-1],[4,-2],[-1,1],[1,0],[3,-1],[5,-2]];module.exports=function(p){var base=BASES[p[0]];if(p.length===2)return[base[0]+7*p[1]];return[p[3]*(base[0]+7*p[1]),p[3]*(p[2]+base[1]-4*p[1])]}},{}],45:[function(require,module,exports){"use strict";var BASES=[[3,1],[0,0],[4,0],[1,-1],[5,-1],[2,-2],[6,-2],[3,-3]];module.exports=function(arr){if(!Array.isArray(arr))return null;var index=(arr[0]+1)%7;if(index<0)index=7+index;var base=BASES[index];var alter=Math.floor((arr[0]+1)/7);var oct=arr.length===1?null:arr[1]-base[1]+alter*4;var dur=arr[2]||null;return[base[0],alter,oct,dur]}},{}],46:[function(require,module,exports){"use strict";var parser=require("./parser");var split=require("./roman.split");var coord=require("./props.coord");var NUM={i:0,ii:1,iii:2,iv:3,v:4,vi:5,vii:6};module.exports=parser(function(str){var m=split(str);if(!m||m[3])return null;var num=NUM[m[2].toLowerCase()];var alt=m[1].length;if(m[1][0]==="b")alt=-alt;return coord([num,alt])})},{"./parser":43,"./props.coord":44,"./roman.split":47}],47:[function(require,module,exports){"use strict";var R=/^\s*(b|bb|#|##|)(IV|III|II|I|VII|VI|V|iv|iii|ii|i|vii|vi|v)\s*(.*)\s*$/;module.exports=function(s){return R.exec(s)}},{}],48:[function(require,module,exports){"use strict";module.exports=function(fn){return function(a,b){if(arguments.length===1)return function(c){return fn(a,c)};return fn(a,b)}}},{}],49:[function(require,module,exports){module.exports=require("tonal.distance")},{"tonal.distance":13}],50:[function(require,module,exports){"use strict";var transpose=require("./transpose");var ASC=[-12,7];var DESC=[12,-7];module.exports=function(pitch){var enharmonics=[];enharmonics.push(transpose(DESC,pitch));enharmonics.push(pitch);enharmonics.push(transpose(ASC,pitch));return enharmonics}},{"./transpose":58}],51:[function(require,module,exports){"use strict";var midi=require("./midi");module.exports=function freq(tuning,pitch){tuning=tuning||440;if(arguments.length>1)return freq(tuning)(pitch);return function(p){if(!isNaN(p))return p;var m=midi(p);if(!m)return null;return Math.pow(2,(m-69)/12)*tuning}}},{"./midi":54}],52:[function(require,module,exports){"use strict";var CHROMATIC=["C","Db","D","Eb","E","F","Gb","G","Ab","A","Bb","B"];module.exports=function(midi){if(isNaN(midi)||midi<0||midi>127)return null;var name=CHROMATIC[midi%12];var oct=Math.floor(midi/12)-1;return name+oct}},{}],53:[function(require,module,exports){"use strict";var note=require("./note");note.midi=require("./midi");note.fromMidi=require("./fromMidi");note.freq=require("./freq");note.pitchClass=require("./pitchClass");note.setOctave=require("./setOctave");note.enharmonics=require("./enharmonics");note.transpose=require("./transpose");note.distance=require("./distance");module.exports=note},{"./distance":49,"./enharmonics":50,"./freq":51,"./fromMidi":52,"./midi":54,"./note":55,"./pitchClass":56,"./setOctave":57,"./transpose":58}],54:[function(require,module,exports){"use strict";var parse=require("tonal.notation/note.parse");module.exports=function(note){var n=Array.isArray(note)?note:parse(note);var m=n&&n.length>1?n[0]*7+n[1]*12+12:-1;return m<0||m>127?null:m}},{"tonal.notation/note.parse":40}],55:[function(require,module,exports){"use strict";module.exports=require("tonal.notation/note")},{"tonal.notation/note":39}],56:[function(require,module,exports){"use strict";var operation=require("tonal.pitch/operation");module.exports=operation(function(n){return[n[0]]})},{"tonal.pitch/operation":61}],57:[function(require,module,exports){var curry=require("./_curry");var operation=require("tonal.pitch/operation");module.exports=curry(operation(function(oct,n){if(!Array.isArray(n))return null;return[n[0],-Math.floor(n[0]*7/12)+oct,n[2]||null]}))},{"./_curry":48,"tonal.pitch/operation":61}],58:[function(require,module,exports){module.exports=require("tonal.transpose")},{"tonal.transpose":79}],59:[function(require,module,exports){"use strict";var operation=require("./operation");module.exports=operation(function(p){if(!Array.isArray(p))return-Infinity;var f=p[0]*7;var o=p[1]||p[1]===0?p[1]:-Math.floor(f/12)-10;return f+o*12})},{"./operation":61}],60:[function(require,module,exports){"use strict";var pitch=require("./pitch");pitch.parse=require("./parse");pitch.str=require("./str");pitch.simplify=require("./simplify");pitch.height=require("./height");pitch.operation=require("./operation");module.exports=pitch},{"./height":59,"./operation":61,"./parse":62,"./pitch":63,"./simplify":64,"./str":65}],61:[function(require,module,exports){var parse=require("./parse");var str=require("./str");function curry(fn,arity){if(arity===1)return fn;return function(a,b){if(arguments.length===1)return function(c){return fn(a,c)};return fn(a,b)}}module.exports=function(fn){return curry(function(a,b){var ac=parse(a);var bc=parse(b);if(!ac&&!bc)return fn(a,b);var v=fn(ac||a,bc||b);return str(v)||v},fn.length)}},{"./parse":62,"./str":65}],62:[function(require,module,exports){var ncrd=require("tonal.notation/note.parse");var icrd=require("tonal.notation/interval.parse");module.exports=function(n){return ncrd(n)||icrd(n)}},{"tonal.notation/interval.parse":37,"tonal.notation/note.parse":40}],63:[function(require,module,exports){"use strict";var str=require("./str");var parse=require("./parse");module.exports=function(s){return str(parse(s))}},{"./parse":62,"./str":65}],64:[function(require,module,exports){var operation=require("./operation");module.exports=operation(function(p){if(!Array.isArray(p))return null;return p.length===2?[p[0],-Math.floor(p[0]*7/12)]:[p[0]]})},{"./operation":61}],65:[function(require,module,exports){var nstr=require("tonal.notation/note.str");var istr=require("tonal.notation/interval.str");module.exports=function(n){return nstr(n)||istr(n)}},{"tonal.notation/interval.str":38,"tonal.notation/note.str":42}],66:[function(require,module,exports){"use strict";var operation=require("tonal.gamut/operation");var harmonics=require("tonal.gamut/harmonics");var split=require("tonal.gamut/split");var set=require("tonal.gamut/set");var transpose=require("tonal.transpose");module.exports=function b(notes,tonic){if(arguments.length===1)return function(t){return b(notes,t)};notes=split(notes);var len=notes.length;if(len===0)return[];var intervals=operation(function(gamut){tonic=!tonic&&tonic!==false?gamut[0]:tonic;var s=set(gamut);var i=indexOf(gamut[0][0],s,len);var ordered=s.slice(i,len).concat(s.slice(0,i));return harmonics(ordered)},notes);tonic=!tonic&&tonic!==false?notes[0]:tonic;return intervals.map(transpose(tonic))};function indexOf(p,g,l){for(var i=0;i<l;i++){if(g[i][0]===p)return i}}},{"tonal.gamut/harmonics":16,"tonal.gamut/operation":18,"tonal.gamut/set":22,"tonal.gamut/split":24,"tonal.transpose":79}],67:[function(require,module,exports){"use strict";var build=require("./build");var type=require("tonal.chord/type");var select=require("tonal.gamut/select");module.exports=function(notes){var chord=select("1 3 5 7",build(notes,null));var t=type(chord);return t?chord[0]+t:null}},{"./build":66,"tonal.chord/type":8,"tonal.gamut/select":21}],68:[function(require,module,exports){"use strict";var data=require("./scales.json");var dictionary=require("tonal.dictionary");module.exports=dictionary(data)},{"./scales.json":73,"tonal.dictionary":11}],69:[function(require,module,exports){"use strict";var scale=require("./scale");scale.build=require("./build");scale.select=require("./select");scale.modes=require("./modes");scale.chord=require("./chord");scale.names=require("./names");if(typeof module==="object"&&module.exports)module.exports=scale;if(typeof window!=="undefined")window.scale=scale},{"./build":66,"./chord":67,"./modes":70,"./names":71,"./scale":72,"./select":74}],70:[function(require,module,exports){"use strict";var rotate=require("tonal.gamut/rotate");var build=require("./build");module.exports=function(notes){var s=build(notes,null);return s.map(function(n,i){return rotate(i,s)})}},{"./build":66,"tonal.gamut/rotate":19}],71:[function(require,module,exports){"use strict";var names=require("tonal.dictionary/names");var scales=require("./dictionary");module.exports=names(scales," ")},{"./dictionary":68,"tonal.dictionary/names":12}],72:[function(require,module,exports){"use strict";var scales=require("./dictionary");var getter=require("tonal.dictionary/getter");module.exports=getter(scales)},{"./dictionary":68,"tonal.dictionary/getter":10}],73:[function(require,module,exports){module.exports={lydian:["1 2 3 4# 5 6 7"],major:["1 2 3 4 5 6 7",["ionian"]],mixolydian:["1 2 3 4 5 6 7b",["dominant"]],dorian:["1 2 3b 4 5 6 7b"],aeolian:["1 2 3b 4 5 6b 7b",["minor"]],phrygian:["1 2b 3b 4 5 6b 7b"],locrian:["1 2b 3b 4 5b 6b 7b"],"melodic minor":["1 2 3b 4 5 6 7"],"melodic minor second mode":["1 2b 3b 4 5 6 7b"],"lydian augmented":["1 2 3 4# 5A 6 7"],"lydian dominant":["1 2 3 4# 5 6 7b",["lydian b7"]],"melodic minor fifth mode":["1 2 3 4 5 6b 7b",["hindu","mixolydian b6"]],"locrian #2":["1 2 3b 4 5b 6b 7b"],"locrian major":["1 2 3 4 5b 6b 7b",["arabian"]],altered:["1 2b 3b 3 5b 6b 7b",["super locrian","diminished whole tone","pomeroy"]],"major pentatonic":["1 2 3 5 6",["pentatonic"]],"lydian pentatonic":["1 3 4# 5 7",["chinese"]],"mixolydian pentatonic":["1 3 4 5 7b",["indian"]],"locrian pentatonic":["1 3b 4 5b 7b",["minor seven flat five pentatonic"]],"minor pentatonic":["1 3b 4 5 7b"],"minor six pentatonic":["1 3b 4 5 6"],"minor hexatonic":["1 2 3b 4 5 7"],"flat three pentatonic":["1 2 3b 5 6",["kumoi"]],"flat six pentatonic":["1 2 3 5 6b"],"major flat two pentatonic":["1 2b 3 5 6"],"whole tone pentatonic":["1 3 5b 6b 7b"],"ionian pentatonic":["1 3 4 5 7"],"lydian #5 pentatonic":["1 3 4# 5A 7"],"lydian dominant pentatonic":["1 3 4# 5 7b"],"minor #7 pentatonic":["1 3b 4 5 7"],"super locrian pentatonic":["1 3b 4d 5b 7b"],"in-sen":["1 2b 4 5 7b"],iwato:["1 2b 4 5b 7b"],hirajoshi:["1 2 3b 5 6b"],kumoijoshi:["1 2b 4 5 6b"],pelog:["1 2b 3b 5 6b"],"vietnamese 1":["1 3b 4 5 6b"],"vietnamese 2":["1 3b 4 5 7b"],prometheus:["1 2 3 4# 6 7b"],"prometheus neopolitan":["1 2b 3 4# 6 7b"],ritusen:["1 2 4 5 6"],scriabin:["1 2b 3 5 6"],piongio:["1 2 4 5 6 7b"],"major blues":["1 2 3b 3 5 6"],"minor blues":["1 3b 4 5b 5 7b",["blues"]],"composite blues":["1 2 3b 3 4 5b 5 6 7b"],augmented:["1 2A 3 5 5A 7"],"augmented heptatonic":["1 2A 3 4 5 5A 7"],"dorian #4":["1 2 3b 4# 5 6 7b"],"lydian diminished":["1 2 3b 4# 5 6 7"],"whole tone":["1 2 3 4# 5A 7b"],"leading whole tone":["1 2 3 4# 5A 7b 7"],"harmonic minor":["1 2 3b 4 5 6b 7"],"lydian minor":["1 2 3 4# 5 6b 7b"],neopolitan:["1 2b 3b 4 5 6b 7"],"neopolitan minor":["1 2b 3b 4 5 6b 7b"],"neopolitan major":["1 2b 3b 4 5 6 7",["dorian b2"]],"neopolitan major pentatonic":["1 3 4 5b 7b"],"romanian minor":["1 2 3b 5b 5 6 7b"],"double harmonic lydian":["1 2b 3 4# 5 6b 7"],diminished:["1 2 3b 4 5b 6b 6 7"],"harmonic major":["1 2 3 4 5 6b 7"],
"double harmonic major":["1 2b 3 4 5 6b 7",["gypsy"]],egyptian:["1 2 4 5 7b"],"hungarian minor":["1 2 3b 4# 5 6b 7"],"hungarian major":["1 2A 3 4# 5 6 7b"],oriental:["1 2b 3 4 5b 6 7b"],spanish:["1 2b 3 4 5 6b 7b",["phrygian major"]],"spanish heptatonic":["1 2b 3b 3 4 5 6b 7b"],flamenco:["1 2b 3b 3 4# 5 7b"],balinese:["1 2b 3b 4 5 6b 7"],"todi raga":["1 2b 3b 4# 5 6b 7"],"malkos raga":["1 3b 4 6b 7b"],"kafi raga":["1 3b 3 4 5 6 7b 7"],"purvi raga":["1 2b 3 4 4# 5 6b 7"],persian:["1 2b 3 4 5b 6b 7"],bebop:["1 2 3 4 5 6 7b 7"],"bebop dominant":["1 2 3 4 5 6 7b 7"],"bebop minor":["1 2 3b 3 4 5 6 7b"],"bebop major":["1 2 3 4 5 5A 6 7"],"bebop locrian":["1 2b 3b 4 5b 5 6b 7b"],"minor bebop":["1 2 3b 4 5 6b 7b 7"],"mystery #1":["1 2b 3 5b 6b 7b"],enigmatic:["1 2b 3 5b 6b 7b 7"],"minor six diminished":["1 2 3b 4 5 6b 6 7"],"ionian augmented":["1 2 3 4 5A 6 7"],"lydian #9":["1 2b 3 4# 5 6 7"],ichikosucho:["1 2 3 4 5b 5 6 7"],"six tone symmetric":["1 2b 3 4 5A 6"]}},{}],74:[function(require,module,exports){"use strict";var split=require("tonal.gamut/split");var operation=require("tonal.gamut/operation");var build=require("./build");var transpose=require("tonal.transpose");var STEPS=[3,0,4,1,5,2,6];module.exports=function select(pttn,notes){if(arguments.length===2)return select(pttn)(notes);return operation(function(g){var nums=split(pttn).map(function(n){return+n-1});var index=[];build(g,false).forEach(function(item){var fifths=(item[0]+1)%7;index[STEPS[fifths]]=item});var selected=nums.map(function(n){var i=index[n%7];if(i&&n>6){i=i.slice();i[1]=i[1]+Math.floor(n/7)}return i});return selected.map(transpose(g[0]))})}},{"./build":66,"tonal.gamut/operation":18,"tonal.gamut/split":24,"tonal.transpose":79}],75:[function(require,module,exports){"use strict";var height=require("tonal.pitch/height");var operation=require("tonal.gamut/operation");var harmonics=require("tonal.gamut/harmonics");var set=require("./set");module.exports=operation(function(gamut){var number=[0,0,0,0,0,0,0,0,0,0,0,0];var intervals=set(harmonics(gamut));var semitones=intervals.map(height);semitones.forEach(function(s){number[s]=1});return number.join("")})},{"./set":78,"tonal.gamut/harmonics":16,"tonal.gamut/operation":18,"tonal.pitch/height":59}],76:[function(require,module,exports){"use strict";var transpose=require("tonal.transpose");var INTERVALS=["1P","2m","2M","3m","3M","4","4#","5","6m","6M","7m","7M"];module.exports=function f(number,tonic){if(arguments.length===1)return function(t){return f(number,t)};if(/^1[01]{11}$/.test(number))number=parseInt(number,2);else if(typeof number!=="number")return[];var binary=(number%2048+2048).toString(2);var set=[];for(var i=0;i<12;i++){if(binary.charAt(i)==="1"){if(i===6&&binary.charAt(5)==="1")set.push("5b");else set.push(INTERVALS[i])}}return tonic===false?set:set.map(transpose(tonic))}},{"tonal.transpose":79}],77:[function(require,module,exports){"use strict";var set=require("./set");set.binary=require("./binary");set.fromBinary=require("./fromBinary");module.exports=set},{"./binary":75,"./fromBinary":76,"./set":78}],78:[function(require,module,exports){"use strict";module.exports=require("tonal.gamut/set")},{"tonal.gamut/set":22}],79:[function(require,module,exports){var operation=require("tonal.pitch/operation");var m=operation(function(i,n){if(i===false)return n;else if(!Array.isArray(i)||!Array.isArray(n))return null;else if(i.length===1||n.length===1)return[n[0]+i[0]];var d=i.length===2&&n.length===2?null:n[2]||i[2];return[n[0]+i[0],n[1]+i[1],d]});if(typeof module==="object"&&module.exports)module.exports=m;if(typeof window!=="undefined")window.transpose=m},{"tonal.pitch/operation":61}]},{},[1]);
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>Home - tonal API documentation</title>

    <script src="scripts/prettify/prettify.js"></script>
    <script src="scripts/prettify/lang-css.js"></script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/ionicons.min.css">
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>
<body>

<input type="checkbox" id="nav-trigger" class="nav-trigger" />
<label for="nav-trigger" class="navicon-button x">
  <div class="navicon"></div>
</label>

<label for="nav-trigger" class="overlay"></label>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Modules</h3><ul><li><a href="module-array.html">array</a><ul class='methods'><li data-type='method'><a href="module-array.html#.asArr">asArr</a></li><li data-type='method'><a href="module-array.html#.compact">compact</a></li><li data-type='method'><a href="module-array.html#.filter">filter</a></li><li data-type='method'><a href="module-array.html#.map">map</a></li><li data-type='method'><a href="module-array.html#.permutations">permutations</a></li><li data-type='method'><a href="module-array.html#.rotate">rotate</a></li><li data-type='method'><a href="module-array.html#.rotateAsc">rotateAsc</a></li><li data-type='method'><a href="module-array.html#.select">select</a></li><li data-type='method'><a href="module-array.html#.shuffle">shuffle</a></li><li data-type='method'><a href="module-array.html#.sort">sort</a></li></ul></li><li><a href="module-chord.html">chord</a><ul class='methods'><li data-type='method'><a href="module-chord.html#.detect">detect</a></li><li data-type='method'><a href="module-chord.html#.get">get</a></li><li data-type='method'><a href="module-chord.html#.intervals">intervals</a></li><li data-type='method'><a href="module-chord.html#.inversion">inversion</a></li><li data-type='method'><a href="module-chord.html#.isKnownChord">isKnownChord</a></li><li data-type='method'><a href="module-chord.html#.names">names</a></li><li data-type='method'><a href="module-chord.html#.notes">notes</a></li><li data-type='method'><a href="module-chord.html#.parse">parse</a></li><li data-type='method'><a href="module-chord.html#.position">position</a></li></ul></li><li><a href="module-dictionary.html">dictionary</a><ul class='methods'><li data-type='method'><a href="module-dictionary.html#.detector">detector</a></li><li data-type='method'><a href="module-dictionary.html#.dictionary">dictionary</a></li></ul></li><li><a href="module-distance.html">distance</a><ul class='methods'><li data-type='method'><a href="module-distance.html#.interval">interval</a></li><li data-type='method'><a href="module-distance.html#.semitones">semitones</a></li></ul></li><li><a href="module-freq.html">freq</a><ul class='methods'><li data-type='method'><a href="module-freq.html#.cents">cents</a></li><li data-type='method'><a href="module-freq.html#.eqTempFreq">eqTempFreq</a></li><li data-type='method'><a href="module-freq.html#.eqTempFreqToMidi">eqTempFreqToMidi</a></li><li data-type='method'><a href="module-freq.html#.note">note</a></li><li data-type='method'><a href="module-freq.html#.toFreq">toFreq</a></li><li data-type='method'><a href="module-freq.html#.toMidi">toMidi</a></li></ul></li><li><a href="module-fretboard.html">fretboard</a><ul class='methods'><li data-type='method'><a href="module-fretboard.html#.chordShapes">chordShapes</a></li><li data-type='method'><a href="module-fretboard.html#.names">names</a></li><li data-type='method'><a href="module-fretboard.html#.notes">notes</a></li><li data-type='method'><a href="module-fretboard.html#.scale">scale</a></li><li data-type='method'><a href="module-fretboard.html#.simpleTuning">simpleTuning</a></li><li data-type='method'><a href="module-fretboard.html#.tuning">tuning</a></li></ul></li><li><a href="module-harmonizer.html">harmonizer</a><ul class='methods'><li data-type='method'><a href="module-harmonizer.html#.harmonics">harmonics</a></li><li data-type='method'><a href="module-harmonizer.html#.harmonize">harmonize</a></li><li data-type='method'><a href="module-harmonizer.html#.intervallic">intervallic</a></li></ul></li><li><a href="module-interval.html">interval</a><ul class='methods'><li data-type='method'><a href="module-interval.html#.fromProps">fromProps</a></li><li data-type='method'><a href="module-interval.html#.fromSemitones">fromSemitones</a></li><li data-type='method'><a href="module-interval.html#.ic">ic</a></li><li data-type='method'><a href="module-interval.html#.invert">invert</a></li><li data-type='method'><a href="module-interval.html#.num">num</a></li><li data-type='method'><a href="module-interval.html#.props">props</a></li><li data-type='method'><a href="module-interval.html#.semitones">semitones</a></li><li data-type='method'><a href="module-interval.html#.simplify">simplify</a></li><li data-type='method'><a href="module-interval.html#.toInterval">toInterval</a></li><li data-type='method'><a href="module-interval.html#.type">type</a></li><li data-type='method'><a href="module-interval.html#.value">value</a></li></ul></li><li><a href="module-key.html">key</a><ul class='methods'><li data-type='method'><a href="module-key.html#.accidentals">accidentals</a></li><li data-type='method'><a href="module-key.html#.alteration">alteration</a></li><li data-type='method'><a href="module-key.html#.alteredNotes">alteredNotes</a></li><li data-type='method'><a href="module-key.html#.fromAcc">fromAcc</a></li><li data-type='method'><a href="module-key.html#.fromAlter">fromAlter</a></li><li data-type='method'><a href="module-key.html#.isKeyName">isKeyName</a></li><li data-type='method'><a href="module-key.html#.mode">mode</a></li><li data-type='method'><a href="module-key.html#.modes">modes</a></li><li data-type='method'><a href="module-key.html#.props">props</a></li><li data-type='method'><a href="module-key.html#.relative">relative</a></li><li data-type='method'><a href="module-key.html#.scale">scale</a></li><li data-type='method'><a href="module-key.html#.signature">signature</a></li><li data-type='method'><a href="module-key.html#.tonic">tonic</a></li></ul></li><li><a href="module-midi.html">midi</a><ul class='methods'><li data-type='method'><a href="module-midi.html#.note">note</a></li><li data-type='method'><a href="module-midi.html#.toMidi">toMidi</a></li></ul></li><li><a href="module-notation.html">notation</a><ul class='methods'><li data-type='method'><a href="module-notation.html#.areFlats">areFlats</a></li><li data-type='method'><a href="module-notation.html#.areSharps">areSharps</a></li><li data-type='method'><a href="module-notation.html#.isStep">isStep</a></li><li data-type='method'><a href="module-notation.html#.toAcc">toAcc</a></li><li data-type='method'><a href="module-notation.html#.toAlt">toAlt</a></li><li data-type='method'><a href="module-notation.html#.toLetter">toLetter</a></li><li data-type='method'><a href="module-notation.html#.toStep">toStep</a></li></ul></li><li><a href="module-note.html">note</a><ul class='methods'><li data-type='method'><a href="module-note.html#.alt">alt</a></li><li data-type='method'><a href="module-note.html#.chroma">chroma</a></li><li data-type='method'><a href="module-note.html#.enharmonics">enharmonics</a></li><li data-type='method'><a href="module-note.html#.freq">freq</a></li><li data-type='method'><a href="module-note.html#.fromMidi">fromMidi</a></li><li data-type='method'><a href="module-note.html#.fromProps">fromProps</a></li><li data-type='method'><a href="module-note.html#.midi">midi</a></li><li data-type='method'><a href="module-note.html#.note">note</a></li><li data-type='method'><a href="module-note.html#.oct">oct</a></li><li data-type='method'><a href="module-note.html#.pc">pc</a></li><li data-type='method'><a href="module-note.html#.pcFifths">pcFifths</a></li><li data-type='method'><a href="module-note.html#.props">props</a></li><li data-type='method'><a href="module-note.html#.simplify">simplify</a></li><li data-type='method'><a href="module-note.html#.step">step</a></li></ul></li><li><a href="module-pcset.html">pcset</a><ul class='methods'><li data-type='method'><a href="module-pcset.html#.chroma">chroma</a></li><li data-type='method'><a href="module-pcset.html#.chromaModes">chromaModes</a></li><li data-type='method'><a href="module-pcset.html#.equal">equal</a></li><li data-type='method'><a href="module-pcset.html#.filter">filter</a></li><li data-type='method'><a href="module-pcset.html#.fromChroma">fromChroma</a></li><li data-type='method'><a href="module-pcset.html#.includes">includes</a></li><li data-type='method'><a href="module-pcset.html#.isChroma">isChroma</a></li><li data-type='method'><a href="module-pcset.html#.notes">notes</a></li><li data-type='method'><a href="module-pcset.html#.subset">subset</a></li><li data-type='method'><a href="module-pcset.html#.superset">superset</a></li></ul></li><li><a href="module-pcset-dft.html">pcset-dft</a><ul class='methods'><li data-type='method'><a href="module-pcset-dft.html#.dft">dft</a></li><li data-type='method'><a href="module-pcset-dft.html#.distance">distance</a></li><li data-type='method'><a href="module-pcset-dft.html#.spectra">spectra</a></li></ul></li><li><a href="module-pitchset.html">pitchset</a><ul class='methods'><li data-type='method'><a href="module-pitchset.html#.notes">notes</a></li></ul></li><li><a href="module-progression.html">progression</a><ul class='methods'><li data-type='method'><a href="module-progression.html#.abstract">abstract</a></li><li data-type='method'><a href="module-progression.html#.buildRoman">buildRoman</a></li><li data-type='method'><a href="module-progression.html#.concrete">concrete</a></li><li data-type='method'><a href="module-progression.html#.parseRomanChord">parseRomanChord</a></li><li data-type='method'><a href="module-progression.html#.romanRegex">romanRegex</a></li></ul></li><li><a href="module-range.html">range</a><ul class='methods'><li data-type='method'><a href="module-range.html#.chromatic">chromatic</a></li><li data-type='method'><a href="module-range.html#.fifths">fifths</a></li><li data-type='method'><a href="module-range.html#.numeric">numeric</a></li><li data-type='method'><a href="module-range.html#.pitchSet">pitchSet</a></li></ul></li><li><a href="module-scale.html">scale</a><ul class='methods'><li data-type='method'><a href="module-scale.html#.detect">detect</a></li><li data-type='method'><a href="module-scale.html#.get">get</a></li><li data-type='method'><a href="module-scale.html#.intervals">intervals</a></li><li data-type='method'><a href="module-scale.html#.isKnowScale">isKnowScale</a></li><li data-type='method'><a href="module-scale.html#.names">names</a></li><li data-type='method'><a href="module-scale.html#.notes">notes</a></li><li data-type='method'><a href="module-scale.html#.parse">parse</a></li></ul></li><li><a href="module-sonority.html">sonority</a><ul class='methods'><li data-type='method'><a href="module-sonority.html#.density">density</a></li></ul></li><li><a href="module-tonal.html">tonal</a></li><li><a href="module-transpose.html">transpose</a><ul class='methods'><li data-type='method'><a href="module-transpose.html#.transpose">transpose</a></li><li data-type='method'><a href="module-transpose.html#.trFifths">trFifths</a></li></ul></li></ul>
</nav>

<div id="main">
    

    



    









    


    <section class="readme">
        <article><h1>tonal <a href="https://www.npmjs.com/package/tonal"><img src="https://img.shields.io/npm/v/tonal.svg?style=flat-square" alt="npm"></a> <a href="https://travis-ci.org/danigb/tonal"><img src="https://travis-ci.org/danigb/tonal.svg?branch=master&amp;style=flat-square" alt="Build Status"></a> <a href="https://codeclimate.com/github/danigb/tonal"><img src="https://codeclimate.com/github/danigb/tonal/badges/gpa.svg?style=flat-square" alt="Code Climate"></a> <a href="https://github.com/feross/standard"><img src="https://img.shields.io/badge/code%20style-standard-brightgreen.svg?style=flat-square" alt="js-standard-style"></a> <a href="https://www.npmjs.com/package/tonal"><img src="https://img.shields.io/npm/l/tonal.svg?style=flat-square" alt="license"></a></h1><p><code>tonal</code> is a functional music theory library. It provides functions to manipulate tonal elements of music (pitches, chords, scales, keys). It deals with abstractions (not actual music).</p>
<p>Think like an <a href="http://underscorejs.org/">underscorejs</a> (or better: <a href="http://ramdajs.com/">ramdajs</a>) library for music theory.</p>
<p><a href="http://danigb.github.io/tonal/api/">Read the API documentation</a></p>
<p>Warning: although this library has some time now, the API is still changing.</p>
<p><img src="https://img.shields.io/badge/stability-experimental-red.svg?style=flat-square" alt="stability"></p>
<h2>Example</h2><pre class="prettyprint source lang-js"><code>var tonal = require('tonal')

// note properties
tonal.note.chroma('Cb') // => 11
tonal.note.pc('Db5') // => 'Db'
tonal.note.simplify('B#3') // => 'C4'
tonal.note.freq('C#3') // => 138.59
tonal.note.midi('A4') // => 69
tonal.note.fromMidi(69) // => 'A4'

// interval properties
tonal.ivl.semitones('5P') // => 7
tonal.ivl.invert('3m') // => '6M'
tonal.ivl.fromSemitones(7) // => '5P'

// transposition and distances
tonal.transpose('D4', '2M') // => 'E#4'
tonal.interval('C', 'G') // => '5P'
tonal.semitones('C', 'G') // => 7

// scales
tonal.scale('Bb lydian') // => [ 'Ab', 'Bb', 'C', 'D', 'Eb', 'F', 'G' ]
tonal.scale('Eb bebop') // => [ 'Eb', 'F', 'G', 'Ab', 'Bb', 'C', 'Db', 'D' ]
tonal.scale.names()
tonal.scale.detect('Bb4 Eb4 C5 G4 Bb4 F6') // => ['Eb major pentatonic']

// chords
tonal.chord('Fm7b5') // => [ 'F', 'Ab', 'Cb', 'Eb' ]
tonal.chord.names()
tonal.chord.detect('g f# d b') // => [ 'GMaj7' ]

// partial application
var fifthUp = tonal.transpose('P5')
fifthUp('c3') // => 'G3'
tonal.scale('G melodic minor').map(tonal.transpose('m3')) // => [ 'Bb', 'C', 'Db', 'Eb', 'F', 'G', 'A' ]

// map lists
tonal.map(tonal.note.pc, 'C2 Eb5 gx4') // => ['C', 'Eb', 'G##']
tonal.map(tonal.transpose('3M'), 'c d e') // => ['E4', 'F#4', 'G#4']

// lift functions
var toPitchClasses = tonal.map(tonal.note.pc)
toPitchClasses('C2 db3 e5') // => ['C', 'Db', 'E']
var fifthUpAll = tonal.map(tonal.transpose('5P'))
fifthUpAll('c d e') // => ['G', 'A', 'B']

// Create complex note ranges: from C4 up to F4 and then down to D4
tonal.range.chromatic(['C4, F4, D4']) // => [ 'C4', 'Db4', 'D4', 'Eb4', 'E4', 'F4', 'E4', 'Eb4', 'D4' ]
// Filter ranges to certain notes: from C3 to C4 and back to C3 , using only C Eb G and Bb notes
tonal.range.pitchSet('C Eb G Bb', ['C3', 'C4', 'C3']) // => ['C3', 'Eb3', 'G3', 'Bb3', 'C4', 'Bb3', 'G3', 'Eb3', 'C3']

// harmonize a note with a list intervals
tonal.harmonize('P1 m3 d5', 'C') // => ['C', 'Eb', 'Gb']
// or a list of a notes with an interval
tonal.harmonize('c d e', 'M3') // => ['E', 'F#', 'G']
// partial application
var maj7 = tonal.harmonize('P1 M3 P5 M7')
maj7('C2') // => ['C2', 'E2', 'G2', 'B2']

// extract intervals
tonal.harmonics('C Eb G Bb') // => ['1P', '3m', '5P', '7m']

// work with chord progressions
tonal.progression.abstract('Cmaj7 Dm7 G7', 'C') // => ['Imaj7', 'IIm7', 'V7']</code></pre><p>Because tonal makes heavy use of functional concepts, there's a few things that are not so common inside JS space, so take in mind that:</p>
<ul>
<li>there are no objects. Only functions that performs transformations on data.</li>
<li>notes and intervals are represented using strings.</li>
<li>most of the functions are currified, so you can partially applied them: it means that if you don't pass all the arguments, you get another function that accepts the rest of the parameters. For example <code>transpose</code> function accepts two arguments, the note and the interval, but sometimes is useful to pass only one: <code>['C', 'D', 'E'].map(tonal.transpose('P5'))</code></li>
<li>the <code>tonal</code> module is a facade of the rest of the modules. If you are concerned about code size, you can import only the required modules.</li>
<li>within the <code>tonal</code> facade, most (but not all) of the functions are namespaced to the name of the module. For example, to use the <code>chromatic</code> function of <code>tonal-range</code> module, you must write <code>tonal.range.chromatic</code>. The modules that are not namespaced are <code>array</code>, <code>transpose</code> and <code>distance</code></li>
<li>the code is written using ES6 module system (and converted to ES5 modules using <a href="http://rollupjs.org">rollup</a>). It means that if you use ES6 modules you can get some benefits like code tree shaking, for example. Anyway, they are fully compatible with ES5 modules.</li>
</ul>
<h2>Features</h2><p><code>tonal</code> is still a work in progress, but currently has implemented:</p>
<ul>
<li>Note, intervals, transposition, distances, enharmonics</li>
<li>Midi and frequency conversion</li>
<li>Scales, chords, dictionaries</li>
<li>Utilities to work with collection of notes: sort, filter, rotate, shuffle.</li>
<li>Pitch sets comparations, chord and scale detection</li>
<li>Keys, keys signatures, key scales</li>
<li>Chord progressions</li>
<li>Pitch and pitch class sets</li>
</ul>
<h2>Philosophy</h2><p>This library is evolving with this ideas in mind:</p>
<ul>
<li>Functional: no classes, no side effects, no mutations. Just functions, data-in data-out. Most of the functions has the data to operate on as last argument and lot of functions are currified.</li>
<li>Notes and intervals are represented with strings, instead of objects.</li>
<li>Carefully written: small, fast and modular.</li>
<li>Different notations: scientific notation by default. Helmholtz coming soon.</li>
<li>Documented: all public functions are fully documented inside the code. Read the generated API documentation <a href="http://danigb.github.io/tonal/api/">here</a></li>
<li>Learneable: since all the modules share the same philosophy is easy to work with them.</li>
<li>Tested: every public method is tested with coverage support.</li>
<li>Advanced features: chord and scale detection, binary sets, chord progressions, key signatures...</li>
</ul>
<h2>Why</h2><p>Mostly, because I want to learn:</p>
<blockquote>
<p>Reinventing the wheel is bad for business, but it’s great for learning
<a href="http://philipwalton.com/articles/how-to-become-a-great-front-end-engineer">*</a></p>
</blockquote>
<p>I want to learn about music theory and I want to express the conpcets I learn using functional programming style.</p>
<p>Also, I want a complete library, where I can model some (for me) esoteric features like <a href="http://danigb.github.io/tonal/api/module-interval.html#.ic">interval classes</a>, pitch sets, dft to pitch class sets, and so on.</p>
<h2>What</h2><p>Tonal itself is built from a collection of <a href="https://github.com/danigb/tonal/tree/master/packages">packages</a>.</p>
<p>Please <a href="http://danigb.github.io/tonal/api/">read the generated API documentation here</a> to get an overview.</p>
<h2>Build, test and documentation</h2><p>It's a multipackage module that uses <a href="https://github.com/lerna/lerna">lerna</a> to manage.</p>
<p>To build the library from the first time use <code>npm run init</code></p>
<p>The distributable <code>tonal-min.js</code> file is generated with <code>npm run dist</code></p>
<p>The documentation can be generated with: <code>npm run docs</code></p>
<h2>Inspiration</h2><p>This library takes inspiration from other music theory libraries:</p>
<ul>
<li>Teoria: https://github.com/saebekassebil/teoria</li>
<li>Impro-Visor: https://www.cs.hmc.edu/~keller/jazz/improvisor/</li>
<li>MusicKit: https://github.com/benzguo/MusicKit</li>
<li>Music21: http://web.mit.edu/music21/doc/index.html</li>
<li>Sharp11: https://github.com/jsrmath/sharp11</li>
</ul>
<h2>License</h2><p>MIT License</p></article>
    </section>






</div>

<br class="clear">

<footer>
  <!--  Documentation generated at Sat Dec 03 2016 14:42:49 GMT+0100 (CET) -->
</footer>

<script>prettyPrint();</script>
<script src="scripts/linenumber.js"></script>
</body>
</html>